<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Kube-OVN Team"><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.3, mkdocs-material-8.2.15"><meta name=google-site-verification content=crXUpgbTSGNmzUyHUZey8X7EXueInswioZvm9VzdJHk><title>Kubectl Plugin - Kube-OVN Document</title><link rel=stylesheet href=../../../assets/stylesheets/main.c382b1dc.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.cc9b2e1e.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#kubectl-plugin class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> </aside> </div> <header class="md-header md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../ title="Kube-OVN Document" class="md-header__button md-logo" aria-label="Kube-OVN Document" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Kube-OVN Document </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Kubectl Plugin </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <div class=md-header__option> <div class=md-select> <button class="md-header__button md-icon" aria-label="Select language"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg> </button> <div class=md-select__inner> <ul class=md-select__list> <li class=md-select__item> <a href=../../../ops/kubectl-ko/ hreflang=zh class=md-select__link> 简体中文 </a> </li> <li class=md-select__item> <a href=./ hreflang=en class=md-select__link> English </a> </li> </ul> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/kubeovn/kube-ovn/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> kubeovn/kube-ovn </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../ class=md-tabs__link> OVERVIEW </a> </li> <li class=md-tabs__item> <a href=../../start/prepare/ class=md-tabs__link> GETTING STARTED </a> </li> <li class=md-tabs__item> <a href=../../guide/setup-options/ class=md-tabs__link> USER GUIDE </a> </li> <li class=md-tabs__item> <a href=./ class="md-tabs__link md-tabs__link--active"> OPERATIONS </a> </li> <li class=md-tabs__item> <a href=../../advance/multi-nic/ class=md-tabs__link> ADVANCED USAGE </a> </li> <li class=md-tabs__item> <a href=../../reference/architecture/ class=md-tabs__link> REFERENCE </a> </li> <li class=md-tabs__item> <a href=../../contact/ class=md-tabs__link> CONTACT US </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../ title="Kube-OVN Document" class="md-nav__button md-logo" aria-label="Kube-OVN Document" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> Kube-OVN Document </label> <div class=md-nav__source> <a href=https://github.com/kubeovn/kube-ovn/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> kubeovn/kube-ovn </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ class=md-nav__link> OVERVIEW </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> GETTING STARTED <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="GETTING STARTED" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> GETTING STARTED </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../start/prepare/ class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=../../start/one-step-install/ class=md-nav__link> One-Click Installation </a> </li> <li class=md-nav__item> <a href=../../start/underlay/ class=md-nav__link> Underlay Installation </a> </li> <li class=md-nav__item> <a href=../../start/sealos-install/ class=md-nav__link> 使用 sealos 一键部署 Kubernetes 和 Kube-OVN </a> </li> <li class=md-nav__item> <a href=../../start/uninstall/ class=md-nav__link> Uninstall </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> USER GUIDE <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="USER GUIDE" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> USER GUIDE </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../guide/setup-options/ class=md-nav__link> Installation and Configuration Options </a> </li> <li class=md-nav__item> <a href=../../guide/static-ip-mac/ class=md-nav__link> Fixed Addresses </a> </li> <li class=md-nav__item> <a href=../../guide/subnet/ class=md-nav__link> Config Subnet </a> </li> <li class=md-nav__item> <a href=../../guide/vpc/ class=md-nav__link> Config VPC </a> </li> <li class=md-nav__item> <a href=../../guide/qos/ class=md-nav__link> Manage QoS </a> </li> <li class=md-nav__item> <a href=../../guide/prometheus-grafana/ class=md-nav__link> Monitor and Dashboard </a> </li> <li class=md-nav__item> <a href=../../guide/prometheus/ class=md-nav__link> Config Native Prometheus </a> </li> <li class=md-nav__item> <a href=../../guide/dual-stack/ class=md-nav__link> DualStack </a> </li> <li class=md-nav__item> <a href=../../guide/eip-snat/ class=md-nav__link> EIP and SNAT </a> </li> <li class=md-nav__item> <a href=../../guide/mirror/ class=md-nav__link> Traffic Mirror </a> </li> <li class=md-nav__item> <a href=../../guide/networkpolicy-log/ class=md-nav__link> NetworkPolicy Logging </a> </li> <li class=md-nav__item> <a href=../../guide/webhook/ class=md-nav__link> Webhook </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> OPERATIONS <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=OPERATIONS data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> OPERATIONS </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Kubectl Plugin <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Kubectl Plugin </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#plugin-installation class=md-nav__link> Plugin Installation </a> </li> <li class=md-nav__item> <a href=#plugin-usage class=md-nav__link> Plugin Usage </a> <nav class=md-nav aria-label="Plugin Usage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#nb-sb-status-kick-backup-dbstatus-restore class=md-nav__link> [nb | sb] [status | kick | backup | dbstatus | restore] </a> <nav class=md-nav aria-label="[nb | sb] [status | kick | backup | dbstatus | restore]"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#db-cluster-status-check class=md-nav__link> DB Cluster Status Check </a> </li> <li class=md-nav__item> <a href=#db-nodes-offline class=md-nav__link> DB Nodes Offline </a> </li> <li class=md-nav__item> <a href=#db-backup class=md-nav__link> DB Backup </a> </li> <li class=md-nav__item> <a href=#database-storage-status-check class=md-nav__link> Database Storage Status Check </a> </li> <li class=md-nav__item> <a href=#database-repair class=md-nav__link> Database Repair </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#nbctl-sbctl-options class=md-nav__link> [nbctl | sbctl] [options ...] </a> </li> <li class=md-nav__item> <a href=#vsctl-nodename-options class=md-nav__link> vsctl {nodeName} [options ...] </a> </li> <li class=md-nav__item> <a href=#ofctl-nodename-options class=md-nav__link> ofctl {nodeName} [options ...] </a> </li> <li class=md-nav__item> <a href=#dpctl-nodename-options class=md-nav__link> dpctl {nodeName} [options ...] </a> </li> <li class=md-nav__item> <a href=#appctl-nodename-options class=md-nav__link> appctl {nodeName} [options ...] </a> </li> <li class=md-nav__item> <a href=#tcpdump-namespacepodname-tcpdump-options class=md-nav__link> tcpdump {namespace/podname} [tcpdump options ...] </a> </li> <li class=md-nav__item> <a href=#trace-namespacepodname-target-ip-address-target-mac-address-icmptcpudp-target-tcp-or-udp-port class=md-nav__link> trace {namespace/podname} {target ip address} [target mac address] {icmp|tcp|udp} [target tcp or udp port] </a> </li> <li class=md-nav__item> <a href=#diagnose-allnode-nodename class=md-nav__link> diagnose {all|node} [nodename] </a> </li> <li class=md-nav__item> <a href=#tuning-install-fastpathlocal-install-fastpathremove-fastpathinstall-sttlocal-install-sttremove-stt-centos7centos8-kernel-devel-version class=md-nav__link> tuning {install-fastpath|local-install-fastpath|remove-fastpath|install-stt|local-install-stt|remove-stt} {centos7|centos8}} [kernel-devel-version] </a> </li> <li class=md-nav__item> <a href=#reload class=md-nav__link> reload </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../delete-worker-node/ class=md-nav__link> Deleting Work Node </a> </li> <li class=md-nav__item> <a href=../change-ovn-central-node/ class=md-nav__link> Replace ovn-central Node </a> </li> <li class=md-nav__item> <a href=../recover-db/ class=md-nav__link> OVN DB Backup and Recovery </a> </li> <li class=md-nav__item> <a href=../change-default-subnet/ class=md-nav__link> Change Subnet CIDR </a> </li> <li class=md-nav__item> <a href=../change-join-subnet/ class=md-nav__link> Change Join Subnet CIDR </a> </li> <li class=md-nav__item> <a href=../from-calico/ class=md-nav__link> Install Kube-OVN From Calico </a> </li> <li class=md-nav__item> <a href=../faq/ class=md-nav__link> FAQ </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> ADVANCED USAGE <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="ADVANCED USAGE" data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> ADVANCED USAGE </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../advance/multi-nic/ class=md-nav__link> Manage Multiple Interface </a> </li> <li class=md-nav__item> <a href=../../advance/performance-tuning/ class=md-nav__link> Performance Tuning </a> </li> <li class=md-nav__item> <a href=../../advance/fastpath/ class=md-nav__link> Compile FastPath Module </a> </li> <li class=md-nav__item> <a href=../../advance/accelerate-intra-node-tcp-with-ebpf/ class=md-nav__link> 使用 eBPF 加速节点内 TCP 通信 </a> </li> <li class=md-nav__item> <a href=../../advance/with-ovn-ic/ class=md-nav__link> Cluster Inter-Connection with OVN-IC </a> </li> <li class=md-nav__item> <a href=../../advance/with-submariner/ class=md-nav__link> Cluster Inter-Connection with Submariner </a> </li> <li class=md-nav__item> <a href=../../advance/overlay-with-route/ class=md-nav__link> Interconnection with Routes in Overlay Mode </a> </li> <li class=md-nav__item> <a href=../../advance/with-bgp/ class=md-nav__link> BGP Support </a> </li> <li class=md-nav__item> <a href=../../advance/with-cilium/ class=md-nav__link> Integration with Cilium </a> </li> <li class=md-nav__item> <a href=../../advance/dhcp/ class=md-nav__link> DHCP </a> </li> <li class=md-nav__item> <a href=../../advance/vpc-peering/ class=md-nav__link> VPC Peering </a> </li> <li class=md-nav__item> <a href=../../advance/external-gateway/ class=md-nav__link> External Gateway </a> </li> <li class=md-nav__item> <a href=../../advance/vip/ class=md-nav__link> VIP Reservation </a> </li> <li class=md-nav__item> <a href=../../advance/offload-mellanox/ class=md-nav__link> Offload with Mellanox </a> </li> <li class=md-nav__item> <a href=../../advance/offload-corigine/ class=md-nav__link> Offload with Corigine </a> </li> <li class=md-nav__item> <a href=../../advance/windows/ class=md-nav__link> Windows Support </a> </li> <li class=md-nav__item> <a href=../../advance/dpdk/ class=md-nav__link> DPDK Support </a> </li> <li class=md-nav__item> <a href=../../advance/with-openstack/ class=md-nav__link> Integration with OpenStack </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> REFERENCE <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=REFERENCE data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> REFERENCE </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/architecture/ class=md-nav__link> Architecture </a> </li> <li class=md-nav__item> <a href=../../reference/feature-stage/ class=md-nav__link> Feature Stage </a> </li> <li class=md-nav__item> <a href=../../reference/underlay-topology/ class=md-nav__link> Underlay Traffic Topology </a> </li> <li class=md-nav__item> <a href=../../reference/dev-env/ class=md-nav__link> Development Setup </a> </li> <li class=md-nav__item> <a href=../../reference/ovs-ovn-customized/ class=md-nav__link> OVS/OVN Customization </a> </li> <li class=md-nav__item> <a href=../../reference/tunnel-protocol/ class=md-nav__link> Tunnel Protocol Selection </a> </li> <li class=md-nav__item> <a href=../../reference/metrics/ class=md-nav__link> Metrics </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../contact/ class=md-nav__link> CONTACT US </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#plugin-installation class=md-nav__link> Plugin Installation </a> </li> <li class=md-nav__item> <a href=#plugin-usage class=md-nav__link> Plugin Usage </a> <nav class=md-nav aria-label="Plugin Usage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#nb-sb-status-kick-backup-dbstatus-restore class=md-nav__link> [nb | sb] [status | kick | backup | dbstatus | restore] </a> <nav class=md-nav aria-label="[nb | sb] [status | kick | backup | dbstatus | restore]"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#db-cluster-status-check class=md-nav__link> DB Cluster Status Check </a> </li> <li class=md-nav__item> <a href=#db-nodes-offline class=md-nav__link> DB Nodes Offline </a> </li> <li class=md-nav__item> <a href=#db-backup class=md-nav__link> DB Backup </a> </li> <li class=md-nav__item> <a href=#database-storage-status-check class=md-nav__link> Database Storage Status Check </a> </li> <li class=md-nav__item> <a href=#database-repair class=md-nav__link> Database Repair </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#nbctl-sbctl-options class=md-nav__link> [nbctl | sbctl] [options ...] </a> </li> <li class=md-nav__item> <a href=#vsctl-nodename-options class=md-nav__link> vsctl {nodeName} [options ...] </a> </li> <li class=md-nav__item> <a href=#ofctl-nodename-options class=md-nav__link> ofctl {nodeName} [options ...] </a> </li> <li class=md-nav__item> <a href=#dpctl-nodename-options class=md-nav__link> dpctl {nodeName} [options ...] </a> </li> <li class=md-nav__item> <a href=#appctl-nodename-options class=md-nav__link> appctl {nodeName} [options ...] </a> </li> <li class=md-nav__item> <a href=#tcpdump-namespacepodname-tcpdump-options class=md-nav__link> tcpdump {namespace/podname} [tcpdump options ...] </a> </li> <li class=md-nav__item> <a href=#trace-namespacepodname-target-ip-address-target-mac-address-icmptcpudp-target-tcp-or-udp-port class=md-nav__link> trace {namespace/podname} {target ip address} [target mac address] {icmp|tcp|udp} [target tcp or udp port] </a> </li> <li class=md-nav__item> <a href=#diagnose-allnode-nodename class=md-nav__link> diagnose {all|node} [nodename] </a> </li> <li class=md-nav__item> <a href=#tuning-install-fastpathlocal-install-fastpathremove-fastpathinstall-sttlocal-install-sttremove-stt-centos7centos8-kernel-devel-version class=md-nav__link> tuning {install-fastpath|local-install-fastpath|remove-fastpath|install-stt|local-install-stt|remove-stt} {centos7|centos8}} [kernel-devel-version] </a> </li> <li class=md-nav__item> <a href=#reload class=md-nav__link> reload </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?39cf121f7a1f65bb4e4fe7c0a82c6014";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script> <a href=https://github.com/kubeovn/docs/edit/master/docs/ops/kubectl-ko.en.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=kubectl-plugin>Kubectl Plugin<a class=headerlink href=#kubectl-plugin title="Permanent link">&para;</a></h1> <p>To facilitate daily operations and maintenance, Kube-OVN provides the kubectl plug-in tool, which allows administrators to perform daily operations through this command. For examples: Check OVN database information and status, OVN database backup and restore, OVS related information, tcpdump specific containers, specific link logical topology, network problem diagnosis and performance optimization.</p> <h2 id=plugin-installation>Plugin Installation<a class=headerlink href=#plugin-installation title="Permanent link">&para;</a></h2> <p>Kube-OVN installation will deploy the plugin to each node by default. If the machine that runs kubectl is not in the cluster, or if you need to reinstall the plugin, please refer to the following steps:</p> <p>Download <code>kubectl-ko</code> file:</p> <div class=highlight><pre><span></span><code>wget<span class=w> </span>https://raw.githubusercontent.com/kubeovn/kube-ovn/release-1.10/dist/images/kubectl-ko
</code></pre></div> <p>Move file to <code>$PATH</code>:</p> <div class=highlight><pre><span></span><code>mv<span class=w> </span>kubectl-ko<span class=w> </span>/usr/local/bin/kubectl-ko
</code></pre></div> <p>Add executable permissions:</p> <div class=highlight><pre><span></span><code>chmod<span class=w> </span>+x<span class=w> </span>/usr/local/bin/kubectl-ko
</code></pre></div> <p>Check if the plugin works properly:</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl plugin list</span>
The<span class=w> </span>following<span class=w> </span>compatible<span class=w> </span>plugins<span class=w> </span>are<span class=w> </span>available:

/usr/local/bin/kubectl-ko
</code></pre></div> <h2 id=plugin-usage>Plugin Usage<a class=headerlink href=#plugin-usage title="Permanent link">&para;</a></h2> <p>Running <code>kubectl ko</code> will show all the available commands and usage descriptions, as follows:</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko</span>
kubectl<span class=w> </span>ko<span class=w> </span><span class=o>{</span>subcommand<span class=o>}</span><span class=w> </span><span class=o>[</span>option...<span class=o>]</span>
Available<span class=w> </span>Subcommands:
<span class=w>  </span><span class=o>[</span>nb<span class=p>|</span>sb<span class=o>]</span><span class=w> </span><span class=o>[</span>status<span class=p>|</span>kick<span class=p>|</span>backup<span class=p>|</span>dbstatus<span class=p>|</span>restore<span class=o>]</span><span class=w>     </span>ovn-db<span class=w> </span>operations<span class=w> </span>show<span class=w> </span>cluster<span class=w> </span>status,<span class=w> </span>kick<span class=w> </span>stale<span class=w> </span>server,<span class=w> </span>backup<span class=w> </span>database,<span class=w> </span>get<span class=w> </span>db<span class=w> </span>consistency<span class=w> </span>status<span class=w> </span>or<span class=w> </span>restore<span class=w> </span>ovn<span class=w> </span>nb<span class=w> </span>db<span class=w> </span>when<span class=w> </span>met<span class=w> </span><span class=s1>&#39;inconsistent data&#39;</span><span class=w> </span>error
<span class=w>  </span>nbctl<span class=w> </span><span class=o>[</span>ovn-nbctl<span class=w> </span>options<span class=w> </span>...<span class=o>]</span><span class=w>    </span>invoke<span class=w> </span>ovn-nbctl
<span class=w>  </span>sbctl<span class=w> </span><span class=o>[</span>ovn-sbctl<span class=w> </span>options<span class=w> </span>...<span class=o>]</span><span class=w>    </span>invoke<span class=w> </span>ovn-sbctl
<span class=w>  </span>vsctl<span class=w> </span><span class=o>{</span>nodeName<span class=o>}</span><span class=w> </span><span class=o>[</span>ovs-vsctl<span class=w> </span>options<span class=w> </span>...<span class=o>]</span><span class=w>   </span>invoke<span class=w> </span>ovs-vsctl<span class=w> </span>on<span class=w> </span>the<span class=w> </span>specified<span class=w> </span>node
<span class=w>  </span>ofctl<span class=w> </span><span class=o>{</span>nodeName<span class=o>}</span><span class=w> </span><span class=o>[</span>ovs-ofctl<span class=w> </span>options<span class=w> </span>...<span class=o>]</span><span class=w>   </span>invoke<span class=w> </span>ovs-ofctl<span class=w> </span>on<span class=w> </span>the<span class=w> </span>specified<span class=w> </span>node
<span class=w>  </span>dpctl<span class=w> </span><span class=o>{</span>nodeName<span class=o>}</span><span class=w> </span><span class=o>[</span>ovs-dpctl<span class=w> </span>options<span class=w> </span>...<span class=o>]</span><span class=w>   </span>invoke<span class=w> </span>ovs-dpctl<span class=w> </span>on<span class=w> </span>the<span class=w> </span>specified<span class=w> </span>node
<span class=w>  </span>appctl<span class=w> </span><span class=o>{</span>nodeName<span class=o>}</span><span class=w> </span><span class=o>[</span>ovs-appctl<span class=w> </span>options<span class=w> </span>...<span class=o>]</span><span class=w>   </span>invoke<span class=w> </span>ovs-appctl<span class=w> </span>on<span class=w> </span>the<span class=w> </span>specified<span class=w> </span>node
<span class=w>  </span>tcpdump<span class=w> </span><span class=o>{</span>namespace/podname<span class=o>}</span><span class=w> </span><span class=o>[</span>tcpdump<span class=w> </span>options<span class=w> </span>...<span class=o>]</span><span class=w>     </span>capture<span class=w> </span>pod<span class=w> </span>traffic
<span class=w>  </span>trace<span class=w> </span><span class=o>{</span>namespace/podname<span class=o>}</span><span class=w> </span><span class=o>{</span>target<span class=w> </span>ip<span class=w> </span>address<span class=o>}</span><span class=w> </span><span class=o>[</span>target<span class=w> </span>mac<span class=w> </span>address<span class=o>]</span><span class=w> </span><span class=o>{</span>icmp<span class=p>|</span>tcp<span class=p>|</span>udp<span class=o>}</span><span class=w> </span><span class=o>[</span>target<span class=w> </span>tcp<span class=w> </span>or<span class=w> </span>udp<span class=w> </span>port<span class=o>]</span><span class=w>    </span>trace<span class=w> </span>ovn<span class=w> </span>microflow<span class=w> </span>of<span class=w> </span>specific<span class=w> </span>packet
<span class=w>  </span>diagnose<span class=w> </span><span class=o>{</span>all<span class=p>|</span>node<span class=o>}</span><span class=w> </span><span class=o>[</span>nodename<span class=o>]</span><span class=w>    </span>diagnose<span class=w> </span>connectivity<span class=w> </span>of<span class=w> </span>all<span class=w> </span>nodes<span class=w> </span>or<span class=w> </span>a<span class=w> </span>specific<span class=w> </span>node
<span class=w>  </span>tuning<span class=w> </span><span class=o>{</span>install-fastpath<span class=p>|</span>local-install-fastpath<span class=p>|</span>remove-fastpath<span class=p>|</span>install-stt<span class=p>|</span>local-install-stt<span class=p>|</span>remove-stt<span class=o>}</span><span class=w> </span><span class=o>{</span>centos7<span class=p>|</span>centos8<span class=o>}}</span><span class=w> </span><span class=o>[</span>kernel-devel-version<span class=o>]</span><span class=w>  </span>deploy<span class=w>  </span>kernel<span class=w> </span>optimisation<span class=w> </span>components<span class=w> </span>to<span class=w> </span>the<span class=w> </span>system
<span class=w>  </span>reload<span class=w>    </span>restart<span class=w> </span>all<span class=w> </span>kube-ovn<span class=w> </span>components
</code></pre></div> <p>The specific functions and usage of each command are described below.</p> <h3 id=nb-sb-status-kick-backup-dbstatus-restore>[nb | sb] [status | kick | backup | dbstatus | restore]<a class=headerlink href=#nb-sb-status-kick-backup-dbstatus-restore title="Permanent link">&para;</a></h3> <p>This subcommand mainly operates on OVN northbound or southbound databases, including database cluster status check, database node offline, database backup, database storage status check and database repair.</p> <h4 id=db-cluster-status-check>DB Cluster Status Check<a class=headerlink href=#db-cluster-status-check title="Permanent link">&para;</a></h4> <p>This command executes <code>ovs-appctl cluster/status</code> on the leader node of the corresponding OVN database to show the cluster status:</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko nb status</span>
306b
Name:<span class=w> </span>OVN_Northbound
Cluster<span class=w> </span>ID:<span class=w> </span>9a87<span class=w> </span><span class=o>(</span>9a872522-3e7d-47ca-83a3-d74333e1a7ca<span class=o>)</span>
Server<span class=w> </span>ID:<span class=w> </span>306b<span class=w> </span><span class=o>(</span>306b256b-b5e1-4eb0-be91-4ca96adf6bad<span class=o>)</span>
Address:<span class=w> </span>tcp:<span class=o>[</span><span class=m>172</span>.18.0.2<span class=o>]</span>:6643
Status:<span class=w> </span>cluster<span class=w> </span>member
Role:<span class=w> </span>leader
Term:<span class=w> </span><span class=m>1</span>
Leader:<span class=w> </span>self
Vote:<span class=w> </span>self

Last<span class=w> </span>Election<span class=w> </span>started<span class=w> </span><span class=m>280309</span><span class=w> </span>ms<span class=w> </span>ago,<span class=w> </span>reason:<span class=w> </span>timeout
Last<span class=w> </span>Election<span class=w> </span>won:<span class=w> </span><span class=m>280309</span><span class=w> </span>ms<span class=w> </span>ago
Election<span class=w> </span>timer:<span class=w> </span><span class=m>5000</span>
Log:<span class=w> </span><span class=o>[</span><span class=m>139</span>,<span class=w> </span><span class=m>139</span><span class=o>]</span>
Entries<span class=w> </span>not<span class=w> </span>yet<span class=w> </span>committed:<span class=w> </span><span class=m>0</span>
Entries<span class=w> </span>not<span class=w> </span>yet<span class=w> </span>applied:<span class=w> </span><span class=m>0</span>
Connections:<span class=w> </span>&lt;-8723<span class=w> </span>-&gt;8723<span class=w> </span>&lt;-85d6<span class=w> </span>-&gt;85d6
Disconnections:<span class=w> </span><span class=m>0</span>
Servers:
<span class=w>    </span>85d6<span class=w> </span><span class=o>(</span>85d6<span class=w> </span>at<span class=w> </span>tcp:<span class=o>[</span><span class=m>172</span>.18.0.4<span class=o>]</span>:6643<span class=o>)</span><span class=w> </span><span class=nv>next_index</span><span class=o>=</span><span class=m>139</span><span class=w> </span><span class=nv>match_index</span><span class=o>=</span><span class=m>138</span><span class=w> </span>last<span class=w> </span>msg<span class=w> </span><span class=m>763</span><span class=w> </span>ms<span class=w> </span>ago
<span class=w>    </span><span class=m>8723</span><span class=w> </span><span class=o>(</span><span class=m>8723</span><span class=w> </span>at<span class=w> </span>tcp:<span class=o>[</span><span class=m>172</span>.18.0.3<span class=o>]</span>:6643<span class=o>)</span><span class=w> </span><span class=nv>next_index</span><span class=o>=</span><span class=m>139</span><span class=w> </span><span class=nv>match_index</span><span class=o>=</span><span class=m>138</span><span class=w> </span>last<span class=w> </span>msg<span class=w> </span><span class=m>763</span><span class=w> </span>ms<span class=w> </span>ago
<span class=w>    </span>306b<span class=w> </span><span class=o>(</span>306b<span class=w> </span>at<span class=w> </span>tcp:<span class=o>[</span><span class=m>172</span>.18.0.2<span class=o>]</span>:6643<span class=o>)</span><span class=w> </span><span class=o>(</span>self<span class=o>)</span><span class=w> </span><span class=nv>next_index</span><span class=o>=</span><span class=m>2</span><span class=w> </span><span class=nv>match_index</span><span class=o>=</span><span class=m>138</span>
status:<span class=w> </span>ok
</code></pre></div> <p>If the <code>match_index</code> under <code>Server</code> has a large difference and the <code>last msg</code> time is long, the corresponding Server may not respond for a long time and needs to be checked further.</p> <h4 id=db-nodes-offline>DB Nodes Offline<a class=headerlink href=#db-nodes-offline title="Permanent link">&para;</a></h4> <p>This command removes a node from the OVN database and is required when a node is taken offline or replaced. The following is an example of the cluster status from the previous command, to offline the <code>172.18.0.3</code> node:</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko nb kick 8723</span>
started<span class=w> </span>removal
</code></pre></div> <p>Check the database cluster status again to confirm that the node has been removed:</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko nb status</span>
306b
Name:<span class=w> </span>OVN_Northbound
Cluster<span class=w> </span>ID:<span class=w> </span>9a87<span class=w> </span><span class=o>(</span>9a872522-3e7d-47ca-83a3-d74333e1a7ca<span class=o>)</span>
Server<span class=w> </span>ID:<span class=w> </span>306b<span class=w> </span><span class=o>(</span>306b256b-b5e1-4eb0-be91-4ca96adf6bad<span class=o>)</span>
Address:<span class=w> </span>tcp:<span class=o>[</span><span class=m>172</span>.18.0.2<span class=o>]</span>:6643
Status:<span class=w> </span>cluster<span class=w> </span>member
Role:<span class=w> </span>leader
Term:<span class=w> </span><span class=m>1</span>
Leader:<span class=w> </span>self
Vote:<span class=w> </span>self

Last<span class=w> </span>Election<span class=w> </span>started<span class=w> </span><span class=m>324356</span><span class=w> </span>ms<span class=w> </span>ago,<span class=w> </span>reason:<span class=w> </span>timeout
Last<span class=w> </span>Election<span class=w> </span>won:<span class=w> </span><span class=m>324356</span><span class=w> </span>ms<span class=w> </span>ago
Election<span class=w> </span>timer:<span class=w> </span><span class=m>5000</span>
Log:<span class=w> </span><span class=o>[</span><span class=m>140</span>,<span class=w> </span><span class=m>140</span><span class=o>]</span>
Entries<span class=w> </span>not<span class=w> </span>yet<span class=w> </span>committed:<span class=w> </span><span class=m>0</span>
Entries<span class=w> </span>not<span class=w> </span>yet<span class=w> </span>applied:<span class=w> </span><span class=m>0</span>
Connections:<span class=w> </span>&lt;-85d6<span class=w> </span>-&gt;85d6
Disconnections:<span class=w> </span><span class=m>2</span>
Servers:
<span class=w>    </span>85d6<span class=w> </span><span class=o>(</span>85d6<span class=w> </span>at<span class=w> </span>tcp:<span class=o>[</span><span class=m>172</span>.18.0.4<span class=o>]</span>:6643<span class=o>)</span><span class=w> </span><span class=nv>next_index</span><span class=o>=</span><span class=m>140</span><span class=w> </span><span class=nv>match_index</span><span class=o>=</span><span class=m>139</span><span class=w> </span>last<span class=w> </span>msg<span class=w> </span><span class=m>848</span><span class=w> </span>ms<span class=w> </span>ago
<span class=w>    </span>306b<span class=w> </span><span class=o>(</span>306b<span class=w> </span>at<span class=w> </span>tcp:<span class=o>[</span><span class=m>172</span>.18.0.2<span class=o>]</span>:6643<span class=o>)</span><span class=w> </span><span class=o>(</span>self<span class=o>)</span><span class=w> </span><span class=nv>next_index</span><span class=o>=</span><span class=m>2</span><span class=w> </span><span class=nv>match_index</span><span class=o>=</span><span class=m>139</span>
status:<span class=w> </span>ok
</code></pre></div> <h4 id=db-backup>DB Backup<a class=headerlink href=#db-backup title="Permanent link">&para;</a></h4> <p>This subcommand backs up the current OVN database locally and can be used for disaster recovery:</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko nb backup</span>
tar:<span class=w> </span>Removing<span class=w> </span>leading<span class=w> </span><span class=sb>`</span>/<span class=err>&#39;</span><span class=w> </span>from<span class=w> </span>member<span class=w> </span>names
backup<span class=w> </span>ovn-nb<span class=w> </span>db<span class=w> </span>to<span class=w> </span>/root/ovnnb_db.060223191654183154.backup
</code></pre></div> <h4 id=database-storage-status-check>Database Storage Status Check<a class=headerlink href=#database-storage-status-check title="Permanent link">&para;</a></h4> <p>This command is used to check if the database file is corrupt:</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko nb dbstatus</span>
status:<span class=w> </span>ok
</code></pre></div> <p>If error happens, <code>inconsistent data</code> is displayed and needs to be fixed with the following command.</p> <h4 id=database-repair>Database Repair<a class=headerlink href=#database-repair title="Permanent link">&para;</a></h4> <p>If the database status goes to <code>inconsistent data</code>, this command can be used to repair:</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko nb restore</span>
deployment.apps/ovn-central<span class=w> </span>scaled
ovn-central<span class=w> </span>original<span class=w> </span>replicas<span class=w> </span>is<span class=w> </span><span class=m>3</span>
first<span class=w> </span>nodeIP<span class=w> </span>is<span class=w> </span><span class=m>172</span>.18.0.5
ovs-ovn<span class=w> </span>pod<span class=w> </span>on<span class=w> </span>node<span class=w> </span><span class=m>172</span>.18.0.5<span class=w> </span>is<span class=w> </span>ovs-ovn-8jxv9
ovs-ovn<span class=w> </span>pod<span class=w> </span>on<span class=w> </span>node<span class=w> </span><span class=m>172</span>.18.0.3<span class=w> </span>is<span class=w> </span>ovs-ovn-sjzb6
ovs-ovn<span class=w> </span>pod<span class=w> </span>on<span class=w> </span>node<span class=w> </span><span class=m>172</span>.18.0.4<span class=w> </span>is<span class=w> </span>ovs-ovn-t87zk
backup<span class=w> </span>nb<span class=w> </span>db<span class=w> </span>file
restore<span class=w> </span>nb<span class=w> </span>db<span class=w> </span>file,<span class=w> </span>operate<span class=w> </span><span class=k>in</span><span class=w> </span>pod<span class=w> </span>ovs-ovn-8jxv9
deployment.apps/ovn-central<span class=w> </span>scaled
finish<span class=w> </span>restore<span class=w> </span>nb<span class=w> </span>db<span class=w> </span>file<span class=w> </span>and<span class=w> </span>ovn-central<span class=w> </span>replicas
recreate<span class=w> </span>ovs-ovn<span class=w> </span>pods
pod<span class=w> </span><span class=s2>&quot;ovs-ovn-8jxv9&quot;</span><span class=w> </span>deleted
pod<span class=w> </span><span class=s2>&quot;ovs-ovn-sjzb6&quot;</span><span class=w> </span>deleted
pod<span class=w> </span><span class=s2>&quot;ovs-ovn-t87zk&quot;</span><span class=w> </span>deleted
</code></pre></div> <h3 id=nbctl-sbctl-options>[nbctl | sbctl] [options ...]<a class=headerlink href=#nbctl-sbctl-options title="Permanent link">&para;</a></h3> <p>This subcommand executes the <code>ovn-nbctl</code> and <code>ovn-sbctl</code> commands directly into the leader node of the OVN northbound or southbound database. For more detailed usage of this command, please refer to the official documentation of the upstream OVN <a href=https://man7.org/linux/man-pages/man8/ovn-nbctl.8.html target=_blank>ovn-nbctl(8)</a> 和 <a href=https://man7.org/linux/man-pages/man8/ovn-sbctl.8.html target=_blank>ovn-sbctl(8)</a>。</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko nbctl show</span>
switch<span class=w> </span>c7cd17e8-ceee-4a91-9bb3-e5a313fe1ece<span class=w> </span><span class=o>(</span>snat<span class=o>)</span>
<span class=w>    </span>port<span class=w> </span>snat-ovn-cluster
<span class=w>        </span>type:<span class=w> </span>router
<span class=w>        </span>router-port:<span class=w> </span>ovn-cluster-snat
switch<span class=w> </span>20e0c6d0-023a-4756-aec5-200e0c60f95d<span class=w> </span><span class=o>(</span>join<span class=o>)</span>
<span class=w>    </span>port<span class=w> </span>node-liumengxin-ovn3-192.168.137.178
<span class=w>        </span>addresses:<span class=w> </span><span class=o>[</span><span class=s2>&quot;00:00:00:64:FF:A8 100.64.0.4&quot;</span><span class=o>]</span>
<span class=w>    </span>port<span class=w> </span>node-liumengxin-ovn1-192.168.137.176
<span class=w>        </span>addresses:<span class=w> </span><span class=o>[</span><span class=s2>&quot;00:00:00:AF:98:62 100.64.0.2&quot;</span><span class=o>]</span>
<span class=w>    </span>port<span class=w> </span>node-liumengxin-ovn2-192.168.137.177
<span class=w>        </span>addresses:<span class=w> </span><span class=o>[</span><span class=s2>&quot;00:00:00:D9:58:B8 100.64.0.3&quot;</span><span class=o>]</span>
<span class=w>    </span>port<span class=w> </span>join-ovn-cluster
<span class=w>        </span>type:<span class=w> </span>router
<span class=w>        </span>router-port:<span class=w> </span>ovn-cluster-join
switch<span class=w> </span>0191705c-f827-427b-9de3-3c3b7d971ba5<span class=w> </span><span class=o>(</span>central<span class=o>)</span>
<span class=w>    </span>port<span class=w> </span>central-ovn-cluster
<span class=w>        </span>type:<span class=w> </span>router
<span class=w>        </span>router-port:<span class=w> </span>ovn-cluster-central
switch<span class=w> </span>2a45ff05-388d-4f85-9daf-e6fccd5833dc<span class=w> </span><span class=o>(</span>ovn-default<span class=o>)</span>
<span class=w>    </span>port<span class=w> </span>alertmanager-main-0.monitoring
<span class=w>        </span>addresses:<span class=w> </span><span class=o>[</span><span class=s2>&quot;00:00:00:6C:DF:A3 10.16.0.19&quot;</span><span class=o>]</span>
<span class=w>    </span>port<span class=w> </span>kube-state-metrics-5d6885d89-4nf8h.monitoring
<span class=w>        </span>addresses:<span class=w> </span><span class=o>[</span><span class=s2>&quot;00:00:00:6F:02:1C 10.16.0.15&quot;</span><span class=o>]</span>
<span class=w>    </span>port<span class=w> </span>fake-kubelet-67c55dfd89-pv86k.kube-system
<span class=w>        </span>addresses:<span class=w> </span><span class=o>[</span><span class=s2>&quot;00:00:00:5C:12:E8 10.16.19.177&quot;</span><span class=o>]</span>
<span class=w>    </span>port<span class=w> </span>ovn-default-ovn-cluster
<span class=w>        </span>type:<span class=w> </span>router
<span class=w>        </span>router-port:<span class=w> </span>ovn-cluster-ovn-default
router<span class=w> </span>212f73dd-d63d-4d72-864b-a537e9afbee1<span class=w> </span><span class=o>(</span>ovn-cluster<span class=o>)</span>
<span class=w>    </span>port<span class=w> </span>ovn-cluster-snat
<span class=w>        </span>mac:<span class=w> </span><span class=s2>&quot;00:00:00:7A:82:8F&quot;</span>
<span class=w>        </span>networks:<span class=w> </span><span class=o>[</span><span class=s2>&quot;172.22.0.1/16&quot;</span><span class=o>]</span>
<span class=w>    </span>port<span class=w> </span>ovn-cluster-join
<span class=w>        </span>mac:<span class=w> </span><span class=s2>&quot;00:00:00:F8:18:5A&quot;</span>
<span class=w>        </span>networks:<span class=w> </span><span class=o>[</span><span class=s2>&quot;100.64.0.1/16&quot;</span><span class=o>]</span>
<span class=w>    </span>port<span class=w> </span>ovn-cluster-central
<span class=w>        </span>mac:<span class=w> </span><span class=s2>&quot;00:00:00:4D:8C:F5&quot;</span>
<span class=w>        </span>networks:<span class=w> </span><span class=o>[</span><span class=s2>&quot;192.101.0.1/16&quot;</span><span class=o>]</span>
<span class=w>    </span>port<span class=w> </span>ovn-cluster-ovn-default
<span class=w>        </span>mac:<span class=w> </span><span class=s2>&quot;00:00:00:A3:F8:18&quot;</span>
<span class=w>        </span>networks:<span class=w> </span><span class=o>[</span><span class=s2>&quot;10.16.0.1/16&quot;</span><span class=o>]</span>
</code></pre></div> <h3 id=vsctl-nodename-options>vsctl {nodeName} [options ...]<a class=headerlink href=#vsctl-nodename-options title="Permanent link">&para;</a></h3> <p>This command will go to the <code>ovs-ovn</code> container on the corresponding <code>nodeName</code> and execute the corresponding <code>ovs-vsctl</code> command to query and configure <code>vswitchd</code>. For more detailed usage of this command, please refer to the official documentation of the upstream OVS <a href=https://man7.org/linux/man-pages/man8/ovs-vsctl.8.html target=_blank>ovs-vsctl(8)</a>。</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko vsctl kube-ovn-01 show</span>
0d4c4675-c9cc-440a-8c1a-878e17f81b88
<span class=w>    </span>Bridge<span class=w> </span>br-int
<span class=w>        </span>fail_mode:<span class=w> </span>secure
<span class=w>        </span>datapath_type:<span class=w> </span>system
<span class=w>        </span>Port<span class=w> </span>a2c1a8a8b83a_h
<span class=w>            </span>Interface<span class=w> </span>a2c1a8a8b83a_h
<span class=w>        </span>Port<span class=w> </span><span class=s2>&quot;4fa5c4cbb1a5_h&quot;</span>
<span class=w>            </span>Interface<span class=w> </span><span class=s2>&quot;4fa5c4cbb1a5_h&quot;</span>
<span class=w>        </span>Port<span class=w> </span>ovn-eef07d-0
<span class=w>            </span>Interface<span class=w> </span>ovn-eef07d-0
<span class=w>                </span>type:<span class=w> </span>stt
<span class=w>                </span>options:<span class=w> </span><span class=o>{</span><span class=nv>csum</span><span class=o>=</span><span class=s2>&quot;true&quot;</span>,<span class=w> </span><span class=nv>key</span><span class=o>=</span>flow,<span class=w> </span><span class=nv>remote_ip</span><span class=o>=</span><span class=s2>&quot;192.168.137.178&quot;</span><span class=o>}</span>
<span class=w>        </span>Port<span class=w> </span>ovn0
<span class=w>            </span>Interface<span class=w> </span>ovn0
<span class=w>                </span>type:<span class=w> </span>internal
<span class=w>        </span>Port<span class=w> </span>mirror0
<span class=w>            </span>Interface<span class=w> </span>mirror0
<span class=w>                </span>type:<span class=w> </span>internal
<span class=w>        </span>Port<span class=w> </span>ovn-efa253-0
<span class=w>            </span>Interface<span class=w> </span>ovn-efa253-0
<span class=w>                </span>type:<span class=w> </span>stt
<span class=w>                </span>options:<span class=w> </span><span class=o>{</span><span class=nv>csum</span><span class=o>=</span><span class=s2>&quot;true&quot;</span>,<span class=w> </span><span class=nv>key</span><span class=o>=</span>flow,<span class=w> </span><span class=nv>remote_ip</span><span class=o>=</span><span class=s2>&quot;192.168.137.177&quot;</span><span class=o>}</span>
<span class=w>        </span>Port<span class=w> </span>br-int
<span class=w>            </span>Interface<span class=w> </span>br-int
<span class=w>                </span>type:<span class=w> </span>internal
<span class=w>    </span>ovs_version:<span class=w> </span><span class=s2>&quot;2.17.2&quot;</span>
</code></pre></div> <h3 id=ofctl-nodename-options>ofctl {nodeName} [options ...]<a class=headerlink href=#ofctl-nodename-options title="Permanent link">&para;</a></h3> <p>This command will go to the <code>ovs-ovn</code> container on the corresponding <code>nodeName</code> and execute the corresponding <code>ovs-ofctl</code> command to query or manage OpenFlow. For more detailed usage of this command, please refer to the official documentation of the upstream OVS <a href=https://man7.org/linux/man-pages/man8/ovs-ofctl.8.html target=_blank>ovs-ofctl(8)</a>。</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko ofctl kube-ovn-01 dump-flows br-int</span>
NXST_FLOW<span class=w> </span>reply<span class=w> </span><span class=o>(</span><span class=nv>xid</span><span class=o>=</span>0x4<span class=o>)</span>:<span class=w> </span><span class=nv>flags</span><span class=o>=[</span>more<span class=o>]</span>
<span class=w> </span><span class=nv>cookie</span><span class=o>=</span>0xcf3429e6,<span class=w> </span><span class=nv>duration</span><span class=o>=</span><span class=m>671791</span>.432s,<span class=w> </span><span class=nv>table</span><span class=o>=</span><span class=m>0</span>,<span class=w> </span><span class=nv>n_packets</span><span class=o>=</span><span class=m>0</span>,<span class=w> </span><span class=nv>n_bytes</span><span class=o>=</span><span class=m>0</span>,<span class=w> </span><span class=nv>idle_age</span><span class=o>=</span><span class=m>65534</span>,<span class=w> </span><span class=nv>hard_age</span><span class=o>=</span><span class=m>65534</span>,<span class=w> </span><span class=nv>priority</span><span class=o>=</span><span class=m>100</span>,in_port<span class=o>=</span><span class=m>2</span><span class=w> </span><span class=nv>actions</span><span class=o>=</span>load:0x4-&gt;NXM_NX_REG13<span class=o>[]</span>,load:0x9-&gt;NXM_NX_REG11<span class=o>[]</span>,load:0xb-&gt;NXM_NX_REG12<span class=o>[]</span>,load:0x4-&gt;OXM_OF_METADATA<span class=o>[]</span>,load:0x1-&gt;NXM_NX_REG14<span class=o>[]</span>,resubmit<span class=o>(</span>,8<span class=o>)</span>
<span class=w> </span><span class=nv>cookie</span><span class=o>=</span>0xc91413c6,<span class=w> </span><span class=nv>duration</span><span class=o>=</span><span class=m>671791</span>.431s,<span class=w> </span><span class=nv>table</span><span class=o>=</span><span class=m>0</span>,<span class=w> </span><span class=nv>n_packets</span><span class=o>=</span><span class=m>907489</span>,<span class=w> </span><span class=nv>n_bytes</span><span class=o>=</span><span class=m>99978275</span>,<span class=w> </span><span class=nv>idle_age</span><span class=o>=</span><span class=m>0</span>,<span class=w> </span><span class=nv>hard_age</span><span class=o>=</span><span class=m>65534</span>,<span class=w> </span><span class=nv>priority</span><span class=o>=</span><span class=m>100</span>,in_port<span class=o>=</span><span class=m>7</span><span class=w> </span><span class=nv>actions</span><span class=o>=</span>load:0x1-&gt;NXM_NX_REG13<span class=o>[]</span>,load:0x9-&gt;NXM_NX_REG11<span class=o>[]</span>,load:0xb-&gt;NXM_NX_REG12<span class=o>[]</span>,load:0x4-&gt;OXM_OF_METADATA<span class=o>[]</span>,load:0x4-&gt;NXM_NX_REG14<span class=o>[]</span>,resubmit<span class=o>(</span>,8<span class=o>)</span>
<span class=w> </span><span class=nv>cookie</span><span class=o>=</span>0xf180459,<span class=w> </span><span class=nv>duration</span><span class=o>=</span><span class=m>671791</span>.431s,<span class=w> </span><span class=nv>table</span><span class=o>=</span><span class=m>0</span>,<span class=w> </span><span class=nv>n_packets</span><span class=o>=</span><span class=m>17348582</span>,<span class=w> </span><span class=nv>n_bytes</span><span class=o>=</span><span class=m>2667811214</span>,<span class=w> </span><span class=nv>idle_age</span><span class=o>=</span><span class=m>0</span>,<span class=w> </span><span class=nv>hard_age</span><span class=o>=</span><span class=m>65534</span>,<span class=w> </span><span class=nv>priority</span><span class=o>=</span><span class=m>100</span>,in_port<span class=o>=</span><span class=m>6317</span><span class=w> </span><span class=nv>actions</span><span class=o>=</span>load:0xa-&gt;NXM_NX_REG13<span class=o>[]</span>,load:0x9-&gt;NXM_NX_REG11<span class=o>[]</span>,load:0xb-&gt;NXM_NX_REG12<span class=o>[]</span>,load:0x4-&gt;OXM_OF_METADATA<span class=o>[]</span>,load:0x9-&gt;NXM_NX_REG14<span class=o>[]</span>,resubmit<span class=o>(</span>,8<span class=o>)</span>
<span class=w> </span><span class=nv>cookie</span><span class=o>=</span>0x7806dd90,<span class=w> </span><span class=nv>duration</span><span class=o>=</span><span class=m>671791</span>.431s,<span class=w> </span><span class=nv>table</span><span class=o>=</span><span class=m>0</span>,<span class=w> </span><span class=nv>n_packets</span><span class=o>=</span><span class=m>3235428</span>,<span class=w> </span><span class=nv>n_bytes</span><span class=o>=</span><span class=m>833821312</span>,<span class=w> </span><span class=nv>idle_age</span><span class=o>=</span><span class=m>0</span>,<span class=w> </span><span class=nv>hard_age</span><span class=o>=</span><span class=m>65534</span>,<span class=w> </span><span class=nv>priority</span><span class=o>=</span><span class=m>100</span>,in_port<span class=o>=</span><span class=m>1</span><span class=w> </span><span class=nv>actions</span><span class=o>=</span>load:0xd-&gt;NXM_NX_REG13<span class=o>[]</span>,load:0x9-&gt;NXM_NX_REG11<span class=o>[]</span>,load:0xb-&gt;NXM_NX_REG12<span class=o>[]</span>,load:0x4-&gt;OXM_OF_METADATA<span class=o>[]</span>,load:0x3-&gt;NXM_NX_REG14<span class=o>[]</span>,resubmit<span class=o>(</span>,8<span class=o>)</span>
...
</code></pre></div> <h3 id=dpctl-nodename-options>dpctl {nodeName} [options ...]<a class=headerlink href=#dpctl-nodename-options title="Permanent link">&para;</a></h3> <p>This command will go to the <code>ovs-ovn</code> container on the corresponding <code>nodeName</code> and execute the corresponding <code>ovs-dpctl</code> command to query or manage the OVS datapath. For more detailed usage of this command, please refer to the official documentation of the upstream OVS <a href=https://man7.org/linux/man-pages/man8/ovs-dpctl.8.html target=_blank>ovs-dpctl(8)</a>。</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko dpctl kube-ovn-01 show</span>
system@ovs-system:
<span class=w>  </span>lookups:<span class=w> </span>hit:350805055<span class=w> </span>missed:21983648<span class=w> </span>lost:73
<span class=w>  </span>flows:<span class=w> </span><span class=m>105</span>
<span class=w>  </span>masks:<span class=w> </span>hit:1970748791<span class=w> </span>total:22<span class=w> </span>hit/pkt:5.29
<span class=w>  </span>port<span class=w> </span><span class=m>0</span>:<span class=w> </span>ovs-system<span class=w> </span><span class=o>(</span>internal<span class=o>)</span>
<span class=w>  </span>port<span class=w> </span><span class=m>1</span>:<span class=w> </span>ovn0<span class=w> </span><span class=o>(</span>internal<span class=o>)</span>
<span class=w>  </span>port<span class=w> </span><span class=m>2</span>:<span class=w> </span>mirror0<span class=w> </span><span class=o>(</span>internal<span class=o>)</span>
<span class=w>  </span>port<span class=w> </span><span class=m>3</span>:<span class=w> </span>br-int<span class=w> </span><span class=o>(</span>internal<span class=o>)</span>
<span class=w>  </span>port<span class=w> </span><span class=m>4</span>:<span class=w> </span>stt_sys_7471<span class=w> </span><span class=o>(</span>stt:<span class=w> </span><span class=nv>packet_type</span><span class=o>=</span>ptap<span class=o>)</span>
<span class=w>  </span>port<span class=w> </span><span class=m>5</span>:<span class=w> </span>eeb4d9e51b5d_h
<span class=w>  </span>port<span class=w> </span><span class=m>6</span>:<span class=w> </span>a2c1a8a8b83a_h
<span class=w>  </span>port<span class=w> </span><span class=m>7</span>:<span class=w> </span>4fa5c4cbb1a5_h
</code></pre></div> <h3 id=appctl-nodename-options>appctl {nodeName} [options ...]<a class=headerlink href=#appctl-nodename-options title="Permanent link">&para;</a></h3> <p>This command will enter the <code>ovs-ovn</code> container on the corresponding <code>nodeName</code> and execute the corresponding <code>ovs-appctl</code> command to operate the associated daemon process. For more detailed usage of this command, please refer to the official documentation of the upstream OVS <a href=https://man7.org/linux/man-pages/man8/ovs-appctl.8.html target=_blank>ovs-appctl(8)</a>。</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko appctl kube-ovn-01 vlog/list</span>
<span class=w>                 </span>console<span class=w>    </span>syslog<span class=w>    </span>file
<span class=w>                 </span>-------<span class=w>    </span>------<span class=w>    </span>------
backtrace<span class=w>          </span>OFF<span class=w>        </span>ERR<span class=w>       </span>INFO
bfd<span class=w>                </span>OFF<span class=w>        </span>ERR<span class=w>       </span>INFO
bond<span class=w>               </span>OFF<span class=w>        </span>ERR<span class=w>       </span>INFO
bridge<span class=w>             </span>OFF<span class=w>        </span>ERR<span class=w>       </span>INFO
bundle<span class=w>             </span>OFF<span class=w>        </span>ERR<span class=w>       </span>INFO
bundles<span class=w>            </span>OFF<span class=w>        </span>ERR<span class=w>       </span>INFO
...
</code></pre></div> <h3 id=tcpdump-namespacepodname-tcpdump-options>tcpdump {namespace/podname} [tcpdump options ...]<a class=headerlink href=#tcpdump-namespacepodname-tcpdump-options title="Permanent link">&para;</a></h3> <p>This command will enter the <code>kube-ovn-cni</code> container on the machine where <code>namespace/podname</code> is located, and run <code>tcpdump</code> to capture the traffic on the veth NIC of the corresponding container, which can be used to troubleshoot network-related problems.</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko tcpdump default/ds1-l6n7p icmp</span>
+<span class=w> </span>kubectl<span class=w> </span><span class=nb>exec</span><span class=w> </span>-it<span class=w> </span>kube-ovn-cni-wlg4s<span class=w> </span>-n<span class=w> </span>kube-ovn<span class=w> </span>--<span class=w> </span>tcpdump<span class=w> </span>-nn<span class=w> </span>-i<span class=w> </span>d7176fe7b4e0_h<span class=w> </span>icmp
tcpdump:<span class=w> </span>verbose<span class=w> </span>output<span class=w> </span>suppressed,<span class=w> </span>use<span class=w> </span>-v<span class=w> </span>or<span class=w> </span>-vv<span class=w> </span><span class=k>for</span><span class=w> </span>full<span class=w> </span>protocol<span class=w> </span>decode
listening<span class=w> </span>on<span class=w> </span>d7176fe7b4e0_h,<span class=w> </span>link-type<span class=w> </span>EN10MB<span class=w> </span><span class=o>(</span>Ethernet<span class=o>)</span>,<span class=w> </span>capture<span class=w> </span>size<span class=w> </span><span class=m>262144</span><span class=w> </span>bytes
<span class=m>06</span>:52:36.619688<span class=w> </span>IP<span class=w> </span><span class=m>100</span>.64.0.3<span class=w> </span>&gt;<span class=w> </span><span class=m>10</span>.16.0.4:<span class=w> </span>ICMP<span class=w> </span><span class=nb>echo</span><span class=w> </span>request,<span class=w> </span>id<span class=w> </span><span class=m>2</span>,<span class=w> </span>seq<span class=w> </span><span class=m>1</span>,<span class=w> </span>length<span class=w> </span><span class=m>64</span>
<span class=m>06</span>:52:36.619746<span class=w> </span>IP<span class=w> </span><span class=m>10</span>.16.0.4<span class=w> </span>&gt;<span class=w> </span><span class=m>100</span>.64.0.3:<span class=w> </span>ICMP<span class=w> </span><span class=nb>echo</span><span class=w> </span>reply,<span class=w> </span>id<span class=w> </span><span class=m>2</span>,<span class=w> </span>seq<span class=w> </span><span class=m>1</span>,<span class=w> </span>length<span class=w> </span><span class=m>64</span>
<span class=m>06</span>:52:37.619588<span class=w> </span>IP<span class=w> </span><span class=m>100</span>.64.0.3<span class=w> </span>&gt;<span class=w> </span><span class=m>10</span>.16.0.4:<span class=w> </span>ICMP<span class=w> </span><span class=nb>echo</span><span class=w> </span>request,<span class=w> </span>id<span class=w> </span><span class=m>2</span>,<span class=w> </span>seq<span class=w> </span><span class=m>2</span>,<span class=w> </span>length<span class=w> </span><span class=m>64</span>
<span class=m>06</span>:52:37.619630<span class=w> </span>IP<span class=w> </span><span class=m>10</span>.16.0.4<span class=w> </span>&gt;<span class=w> </span><span class=m>100</span>.64.0.3:<span class=w> </span>ICMP<span class=w> </span><span class=nb>echo</span><span class=w> </span>reply,<span class=w> </span>id<span class=w> </span><span class=m>2</span>,<span class=w> </span>seq<span class=w> </span><span class=m>2</span>,<span class=w> </span>length<span class=w> </span><span class=m>64</span>
<span class=m>06</span>:52:38.619933<span class=w> </span>IP<span class=w> </span><span class=m>100</span>.64.0.3<span class=w> </span>&gt;<span class=w> </span><span class=m>10</span>.16.0.4:<span class=w> </span>ICMP<span class=w> </span><span class=nb>echo</span><span class=w> </span>request,<span class=w> </span>id<span class=w> </span><span class=m>2</span>,<span class=w> </span>seq<span class=w> </span><span class=m>3</span>,<span class=w> </span>length<span class=w> </span><span class=m>64</span>
<span class=m>06</span>:52:38.619973<span class=w> </span>IP<span class=w> </span><span class=m>10</span>.16.0.4<span class=w> </span>&gt;<span class=w> </span><span class=m>100</span>.64.0.3:<span class=w> </span>ICMP<span class=w> </span><span class=nb>echo</span><span class=w> </span>reply,<span class=w> </span>id<span class=w> </span><span class=m>2</span>,<span class=w> </span>seq<span class=w> </span><span class=m>3</span>,<span class=w> </span>length<span class=w> </span><span class=m>64</span>
</code></pre></div> <h3 id=trace-namespacepodname-target-ip-address-target-mac-address-icmptcpudp-target-tcp-or-udp-port>trace {namespace/podname} {target ip address} [target mac address] {icmp|tcp|udp} [target tcp or udp port]<a class=headerlink href=#trace-namespacepodname-target-ip-address-target-mac-address-icmptcpudp-target-tcp-or-udp-port title="Permanent link">&para;</a></h3> <p>This command will print the OVN logical flow table and the final Openflow flow table when the Pod accesses an address through a specific protocol, so that it make locate flow table related problems during development or troubleshooting much easy.</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko trace default/ds1-l6n7p 8.8.8.8 icmp</span>
+<span class=w> </span>kubectl<span class=w> </span><span class=nb>exec</span><span class=w> </span>ovn-central-5bc494cb5-np9hm<span class=w> </span>-n<span class=w> </span>kube-ovn<span class=w> </span>--<span class=w> </span>ovn-trace<span class=w> </span>--ct<span class=o>=</span>new<span class=w> </span>ovn-default<span class=w> </span><span class=s1>&#39;inport == &quot;ds1-l6n7p.default&quot; &amp;&amp; ip.ttl == 64 &amp;&amp; icmp &amp;&amp; eth.src == 0a:00:00:10:00:05 &amp;&amp; ip4.src == 10.16.0.4 &amp;&amp; eth.dst == 00:00:00:B8:CA:43 &amp;&amp; ip4.dst == 8.8.8.8&#39;</span>
<span class=c1># icmp,reg14=0xf,vlan_tci=0x0000,dl_src=0a:00:00:10:00:05,dl_dst=00:00:00:b8:ca:43,nw_src=10.16.0.4,nw_dst=8.8.8.8,nw_tos=0,nw_ecn=0,nw_ttl=64,icmp_type=0,icmp_code=0</span>

ingress<span class=o>(</span><span class=nv>dp</span><span class=o>=</span><span class=s2>&quot;ovn-default&quot;</span>,<span class=w> </span><span class=nv>inport</span><span class=o>=</span><span class=s2>&quot;ds1-l6n7p.default&quot;</span><span class=o>)</span>
-----------------------------------------------------
<span class=w> </span><span class=m>0</span>.<span class=w> </span>ls_in_port_sec_l2<span class=w> </span><span class=o>(</span>ovn-northd.c:4143<span class=o>)</span>:<span class=w> </span><span class=nv>inport</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;ds1-l6n7p.default&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>eth.src<span class=w> </span><span class=o>==</span><span class=w> </span><span class=o>{</span>0a:00:00:10:00:05<span class=o>}</span>,<span class=w> </span>priority<span class=w> </span><span class=m>50</span>,<span class=w> </span>uuid<span class=w> </span><span class=m>39453393</span>
<span class=w>    </span>next<span class=p>;</span>
<span class=w> </span><span class=m>1</span>.<span class=w> </span>ls_in_port_sec_ip<span class=w> </span><span class=o>(</span>ovn-northd.c:2898<span class=o>)</span>:<span class=w> </span><span class=nv>inport</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;ds1-l6n7p.default&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>eth.src<span class=w> </span><span class=o>==</span><span class=w> </span>0a:00:00:10:00:05<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>ip4.src<span class=w> </span><span class=o>==</span><span class=w> </span><span class=o>{</span><span class=m>10</span>.16.0.4<span class=o>}</span>,<span class=w> </span>priority<span class=w> </span><span class=m>90</span>,<span class=w> </span>uuid<span class=w> </span>81bcd485
<span class=w>    </span>next<span class=p>;</span>
<span class=w> </span><span class=m>3</span>.<span class=w> </span>ls_in_pre_acl<span class=w> </span><span class=o>(</span>ovn-northd.c:3269<span class=o>)</span>:<span class=w> </span>ip,<span class=w> </span>priority<span class=w> </span><span class=m>100</span>,<span class=w> </span>uuid<span class=w> </span>7b4f4971
<span class=w>    </span>reg0<span class=o>[</span><span class=m>0</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>1</span><span class=p>;</span>
<span class=w>    </span>next<span class=p>;</span>
<span class=w> </span><span class=m>5</span>.<span class=w> </span>ls_in_pre_stateful<span class=w> </span><span class=o>(</span>ovn-northd.c:3396<span class=o>)</span>:<span class=w> </span>reg0<span class=o>[</span><span class=m>0</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=m>1</span>,<span class=w> </span>priority<span class=w> </span><span class=m>100</span>,<span class=w> </span>uuid<span class=w> </span>36cdd577
<span class=w>    </span>ct_next<span class=p>;</span>

ct_next<span class=o>(</span><span class=nv>ct_state</span><span class=o>=</span>new<span class=p>|</span>trk<span class=o>)</span>
-------------------------
<span class=w> </span><span class=m>6</span>.<span class=w> </span>ls_in_acl<span class=w> </span><span class=o>(</span>ovn-northd.c:3759<span class=o>)</span>:<span class=w> </span>ip<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=o>(</span>!ct.est<span class=w> </span><span class=o>||</span><span class=w> </span><span class=o>(</span>ct.est<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>ct_label.blocked<span class=w> </span><span class=o>==</span><span class=w> </span><span class=m>1</span><span class=o>))</span>,<span class=w> </span>priority<span class=w> </span><span class=m>1</span>,<span class=w> </span>uuid<span class=w> </span>7608af5b
<span class=w>    </span>reg0<span class=o>[</span><span class=m>1</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>1</span><span class=p>;</span>
<span class=w>    </span>next<span class=p>;</span>
<span class=m>10</span>.<span class=w> </span>ls_in_stateful<span class=w> </span><span class=o>(</span>ovn-northd.c:3995<span class=o>)</span>:<span class=w> </span>reg0<span class=o>[</span><span class=m>1</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=m>1</span>,<span class=w> </span>priority<span class=w> </span><span class=m>100</span>,<span class=w> </span>uuid<span class=w> </span>2aba1b90
<span class=w>    </span>ct_commit<span class=o>(</span><span class=nv>ct_label</span><span class=o>=</span><span class=m>0</span>/0x1<span class=o>)</span><span class=p>;</span>
<span class=w>    </span>next<span class=p>;</span>
<span class=m>16</span>.<span class=w> </span>ls_in_l2_lkup<span class=w> </span><span class=o>(</span>ovn-northd.c:4470<span class=o>)</span>:<span class=w> </span>eth.dst<span class=w> </span><span class=o>==</span><span class=w> </span><span class=m>00</span>:00:00:b8:ca:43,<span class=w> </span>priority<span class=w> </span><span class=m>50</span>,<span class=w> </span>uuid<span class=w> </span>5c9c3c9f
<span class=w>    </span><span class=nv>outport</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;ovn-default-ovn-cluster&quot;</span><span class=p>;</span>
<span class=w>    </span>output<span class=p>;</span>

...
</code></pre></div> <p>If the trace object is a virtual machine running in Underlay network, additional parameters is needed to specify the destination Mac address.</p> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>ko<span class=w> </span>trace<span class=w> </span>default/virt-handler-7lvml<span class=w> </span><span class=m>8</span>.8.8.8<span class=w> </span><span class=m>82</span>:7c:9f:83:8c:01<span class=w> </span>icmp
</code></pre></div> <h3 id=diagnose-allnode-nodename>diagnose {all|node} [nodename]<a class=headerlink href=#diagnose-allnode-nodename title="Permanent link">&para;</a></h3> <p>Diagnose the status of cluster network components and go to the corresponding node's <code>kube-ovn-pinger</code> to detect connectivity and network latency from the current node to other nodes and critical services.</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko diagnose all</span>
switch<span class=w> </span>c7cd17e8-ceee-4a91-9bb3-e5a313fe1ece<span class=w> </span><span class=o>(</span>snat<span class=o>)</span>
<span class=w>    </span>port<span class=w> </span>snat-ovn-cluster
<span class=w>        </span>type:<span class=w> </span>router
<span class=w>        </span>router-port:<span class=w> </span>ovn-cluster-snat
switch<span class=w> </span>20e0c6d0-023a-4756-aec5-200e0c60f95d<span class=w> </span><span class=o>(</span>join<span class=o>)</span>
<span class=w>    </span>port<span class=w> </span>node-liumengxin-ovn3-192.168.137.178
<span class=w>        </span>addresses:<span class=w> </span><span class=o>[</span><span class=s2>&quot;00:00:00:64:FF:A8 100.64.0.4&quot;</span><span class=o>]</span>
<span class=w>    </span>port<span class=w> </span>node-liumengxin-ovn1-192.168.137.176
<span class=w>        </span>addresses:<span class=w> </span><span class=o>[</span><span class=s2>&quot;00:00:00:AF:98:62 100.64.0.2&quot;</span><span class=o>]</span>
<span class=w>    </span>port<span class=w> </span>join-ovn-cluster
<span class=w>        </span>type:<span class=w> </span>router
<span class=w>        </span>router-port:<span class=w> </span>ovn-cluster-join
switch<span class=w> </span>0191705c-f827-427b-9de3-3c3b7d971ba5<span class=w> </span><span class=o>(</span>central<span class=o>)</span>
<span class=w>    </span>port<span class=w> </span>central-ovn-cluster
<span class=w>        </span>type:<span class=w> </span>router
<span class=w>        </span>router-port:<span class=w> </span>ovn-cluster-central
switch<span class=w> </span>2a45ff05-388d-4f85-9daf-e6fccd5833dc<span class=w> </span><span class=o>(</span>ovn-default<span class=o>)</span>
<span class=w>    </span>port<span class=w> </span>ovn-default-ovn-cluster
<span class=w>        </span>type:<span class=w> </span>router
<span class=w>        </span>router-port:<span class=w> </span>ovn-cluster-ovn-default
<span class=w>    </span>port<span class=w> </span>prometheus-k8s-1.monitoring
<span class=w>        </span>addresses:<span class=w> </span><span class=o>[</span><span class=s2>&quot;00:00:00:AA:37:DF 10.16.0.23&quot;</span><span class=o>]</span>
router<span class=w> </span>212f73dd-d63d-4d72-864b-a537e9afbee1<span class=w> </span><span class=o>(</span>ovn-cluster<span class=o>)</span>
<span class=w>    </span>port<span class=w> </span>ovn-cluster-snat
<span class=w>        </span>mac:<span class=w> </span><span class=s2>&quot;00:00:00:7A:82:8F&quot;</span>
<span class=w>        </span>networks:<span class=w> </span><span class=o>[</span><span class=s2>&quot;172.22.0.1/16&quot;</span><span class=o>]</span>
<span class=w>    </span>port<span class=w> </span>ovn-cluster-join
<span class=w>        </span>mac:<span class=w> </span><span class=s2>&quot;00:00:00:F8:18:5A&quot;</span>
<span class=w>        </span>networks:<span class=w> </span><span class=o>[</span><span class=s2>&quot;100.64.0.1/16&quot;</span><span class=o>]</span>
<span class=w>    </span>port<span class=w> </span>ovn-cluster-central
<span class=w>        </span>mac:<span class=w> </span><span class=s2>&quot;00:00:00:4D:8C:F5&quot;</span>
<span class=w>        </span>networks:<span class=w> </span><span class=o>[</span><span class=s2>&quot;192.101.0.1/16&quot;</span><span class=o>]</span>
<span class=w>    </span>port<span class=w> </span>ovn-cluster-ovn-default
<span class=w>        </span>mac:<span class=w> </span><span class=s2>&quot;00:00:00:A3:F8:18&quot;</span>
<span class=w>        </span>networks:<span class=w> </span><span class=o>[</span><span class=s2>&quot;10.16.0.1/16&quot;</span><span class=o>]</span>
Routing<span class=w> </span>Policies
<span class=w>     </span><span class=m>31000</span><span class=w>                            </span>ip4.dst<span class=w> </span><span class=o>==</span><span class=w> </span><span class=m>10</span>.16.0.0/16<span class=w>           </span>allow
<span class=w>     </span><span class=m>31000</span><span class=w>                           </span>ip4.dst<span class=w> </span><span class=o>==</span><span class=w> </span><span class=m>100</span>.64.0.0/16<span class=w>           </span>allow
<span class=w>     </span><span class=m>30000</span><span class=w>                         </span>ip4.dst<span class=w> </span><span class=o>==</span><span class=w> </span><span class=m>192</span>.168.137.177<span class=w>         </span>reroute<span class=w>                </span><span class=m>100</span>.64.0.3
<span class=w>     </span><span class=m>30000</span><span class=w>                         </span>ip4.dst<span class=w> </span><span class=o>==</span><span class=w> </span><span class=m>192</span>.168.137.178<span class=w>         </span>reroute<span class=w>                </span><span class=m>100</span>.64.0.4
<span class=w>     </span><span class=m>29000</span><span class=w>                 </span>ip4.src<span class=w> </span><span class=o>==</span><span class=w> </span><span class=nv>$ovn</span>.default.fake.6_ip4<span class=w>         </span>reroute<span class=w>               </span><span class=m>100</span>.64.0.22
<span class=w>     </span><span class=m>29000</span><span class=w>                 </span>ip4.src<span class=w> </span><span class=o>==</span><span class=w> </span><span class=nv>$ovn</span>.default.fake.7_ip4<span class=w>         </span>reroute<span class=w>               </span><span class=m>100</span>.64.0.21
<span class=w>     </span><span class=m>29000</span><span class=w>                 </span>ip4.src<span class=w> </span><span class=o>==</span><span class=w> </span><span class=nv>$ovn</span>.default.fake.8_ip4<span class=w>         </span>reroute<span class=w>               </span><span class=m>100</span>.64.0.23
<span class=w>     </span><span class=m>29000</span><span class=w> </span>ip4.src<span class=w> </span><span class=o>==</span><span class=w> </span><span class=nv>$ovn</span>.default.liumengxin.ovn3.192.168.137.178_ip4<span class=w>         </span>reroute<span class=w>                </span><span class=m>100</span>.64.0.4
<span class=w>     </span><span class=m>20000</span><span class=w> </span>ip4.src<span class=w> </span><span class=o>==</span><span class=w> </span><span class=nv>$ovn</span>.default.liumengxin.ovn1.192.168.137.176_ip4<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>ip4.dst<span class=w> </span>!<span class=o>=</span><span class=w> </span><span class=nv>$ovn</span>.cluster.overlay.subnets.IPv4<span class=w>         </span>reroute<span class=w>                </span><span class=m>100</span>.64.0.2
<span class=w>     </span><span class=m>20000</span><span class=w> </span>ip4.src<span class=w> </span><span class=o>==</span><span class=w> </span><span class=nv>$ovn</span>.default.liumengxin.ovn2.192.168.137.177_ip4<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>ip4.dst<span class=w> </span>!<span class=o>=</span><span class=w> </span><span class=nv>$ovn</span>.cluster.overlay.subnets.IPv4<span class=w>         </span>reroute<span class=w>                </span><span class=m>100</span>.64.0.3
<span class=w>     </span><span class=m>20000</span><span class=w> </span>ip4.src<span class=w> </span><span class=o>==</span><span class=w> </span><span class=nv>$ovn</span>.default.liumengxin.ovn3.192.168.137.178_ip4<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>ip4.dst<span class=w> </span>!<span class=o>=</span><span class=w> </span><span class=nv>$ovn</span>.cluster.overlay.subnets.IPv4<span class=w>         </span>reroute<span class=w>                </span><span class=m>100</span>.64.0.4
IPv4<span class=w> </span>Routes
Route<span class=w> </span>Table<span class=w> </span>&lt;main&gt;:
<span class=w>                </span><span class=m>0</span>.0.0.0/0<span class=w>                </span><span class=m>100</span>.64.0.1<span class=w> </span>dst-ip
UUID<span class=w>                                    </span>LB<span class=w>                  </span>PROTO<span class=w>      </span>VIP<span class=w>                     </span>IPs
e9bcfd9d-793e-4431-9073-6dec96b75d71<span class=w>    </span>cluster-tcp-load<span class=w>    </span>tcp<span class=w>        </span><span class=m>10</span>.100.209.132:10660<span class=w>    </span><span class=m>192</span>.168.137.176:10660
<span class=w>                                                            </span>tcp<span class=w>        </span><span class=m>10</span>.101.239.192:6641<span class=w>     </span><span class=m>192</span>.168.137.177:6641
<span class=w>                                                            </span>tcp<span class=w>        </span><span class=m>10</span>.101.240.101:3000<span class=w>     </span><span class=m>10</span>.16.0.7:3000
<span class=w>                                                            </span>tcp<span class=w>        </span><span class=m>10</span>.103.184.186:6642<span class=w>     </span><span class=m>192</span>.168.137.177:6642
35d2b7a5-e3a7-485a-a4b7-b4970eb0e63b<span class=w>    </span>cluster-tcp-sess<span class=w>    </span>tcp<span class=w>        </span><span class=m>10</span>.100.158.128:8080<span class=w>     </span><span class=m>10</span>.16.0.10:8080,10.16.0.5:8080,10.16.63.30:8080
<span class=w>                                                            </span>tcp<span class=w>        </span><span class=m>10</span>.107.26.215:8080<span class=w>      </span><span class=m>10</span>.16.0.19:8080,10.16.0.20:8080,10.16.0.21:8080
<span class=w>                                                            </span>tcp<span class=w>        </span><span class=m>10</span>.107.26.215:9093<span class=w>      </span><span class=m>10</span>.16.0.19:9093,10.16.0.20:9093,10.16.0.21:9093
<span class=w>                                                            </span>tcp<span class=w>        </span><span class=m>10</span>.98.187.99:8080<span class=w>       </span><span class=m>10</span>.16.0.22:8080,10.16.0.23:8080
<span class=w>                                                            </span>tcp<span class=w>        </span><span class=m>10</span>.98.187.99:9090<span class=w>       </span><span class=m>10</span>.16.0.22:9090,10.16.0.23:9090
f43303e4-89aa-4d3e-a3dc-278a552fe27b<span class=w>    </span>cluster-udp-load<span class=w>    </span>udp<span class=w>        </span><span class=m>10</span>.96.0.10:53<span class=w>           </span><span class=m>10</span>.16.0.4:53,10.16.0.9:53
_uuid<span class=w>               </span>:<span class=w> </span><span class=m>06776304</span>-5a96-43ed-90c4-c4854c251699
addresses<span class=w>           </span>:<span class=w> </span><span class=o>[]</span>
external_ids<span class=w>        </span>:<span class=w> </span><span class=o>{</span><span class=nv>vendor</span><span class=o>=</span>kube-ovn<span class=o>}</span>
name<span class=w>                </span>:<span class=w> </span>node_liumengxin_ovn2_192.168.137.177_underlay_v6

_uuid<span class=w>               </span>:<span class=w> </span><span class=m>62690625</span>-87d5-491c-8675-9fd83b1f433c
addresses<span class=w>           </span>:<span class=w> </span><span class=o>[]</span>
external_ids<span class=w>        </span>:<span class=w> </span><span class=o>{</span><span class=nv>vendor</span><span class=o>=</span>kube-ovn<span class=o>}</span>
name<span class=w>                </span>:<span class=w> </span>node_liumengxin_ovn1_192.168.137.176_underlay_v6

_uuid<span class=w>               </span>:<span class=w> </span>b03a9bae-94d5-4562-b34c-b5f6198e180b
addresses<span class=w>           </span>:<span class=w> </span><span class=o>[</span><span class=s2>&quot;10.16.0.0/16&quot;</span>,<span class=w> </span><span class=s2>&quot;100.64.0.0/16&quot;</span>,<span class=w> </span><span class=s2>&quot;172.22.0.0/16&quot;</span>,<span class=w> </span><span class=s2>&quot;192.101.0.0/16&quot;</span><span class=o>]</span>
external_ids<span class=w>        </span>:<span class=w> </span><span class=o>{</span><span class=nv>vendor</span><span class=o>=</span>kube-ovn<span class=o>}</span>
name<span class=w>                </span>:<span class=w> </span>ovn.cluster.overlay.subnets.IPv4

_uuid<span class=w>               </span>:<span class=w> </span>e1056f3a-24cc-4666-8a91-75ee6c3c2426
addresses<span class=w>           </span>:<span class=w> </span><span class=o>[]</span>
external_ids<span class=w>        </span>:<span class=w> </span><span class=o>{</span><span class=nv>vendor</span><span class=o>=</span>kube-ovn<span class=o>}</span>
name<span class=w>                </span>:<span class=w> </span>ovn.cluster.overlay.subnets.IPv6

_uuid<span class=w>               </span>:<span class=w> </span>3e5d5fff-e670-47b2-a2f5-a39f4698a8c5
addresses<span class=w>           </span>:<span class=w> </span><span class=o>[]</span>
external_ids<span class=w>        </span>:<span class=w> </span><span class=o>{</span><span class=nv>vendor</span><span class=o>=</span>kube-ovn<span class=o>}</span>
name<span class=w>                </span>:<span class=w> </span>node_liumengxin_ovn3_192.168.137.178_underlay_v6
_uuid<span class=w>               </span>:<span class=w> </span>2d85dbdc-d0db-4abe-b19e-cc806d32b492
action<span class=w>              </span>:<span class=w> </span>drop
direction<span class=w>           </span>:<span class=w> </span>from-lport
external_ids<span class=w>        </span>:<span class=w> </span><span class=o>{}</span>
label<span class=w>               </span>:<span class=w> </span><span class=m>0</span>
log<span class=w>                 </span>:<span class=w> </span><span class=nb>false</span>
match<span class=w>               </span>:<span class=w> </span><span class=s2>&quot;inport==@ovn.sg.kubeovn_deny_all &amp;&amp; ip&quot;</span>
meter<span class=w>               </span>:<span class=w> </span><span class=o>[]</span>
name<span class=w>                </span>:<span class=w> </span><span class=o>[]</span>
options<span class=w>             </span>:<span class=w> </span><span class=o>{}</span>
priority<span class=w>            </span>:<span class=w> </span><span class=m>2003</span>
severity<span class=w>            </span>:<span class=w> </span><span class=o>[]</span>

_uuid<span class=w>               </span>:<span class=w> </span>de790cc8-f155-405f-bb32-5a51f30c545f
action<span class=w>              </span>:<span class=w> </span>drop
direction<span class=w>           </span>:<span class=w> </span>to-lport
external_ids<span class=w>        </span>:<span class=w> </span><span class=o>{}</span>
label<span class=w>               </span>:<span class=w> </span><span class=m>0</span>
log<span class=w>                 </span>:<span class=w> </span><span class=nb>false</span>
match<span class=w>               </span>:<span class=w> </span><span class=s2>&quot;outport==@ovn.sg.kubeovn_deny_all &amp;&amp; ip&quot;</span>
meter<span class=w>               </span>:<span class=w> </span><span class=o>[]</span>
name<span class=w>                </span>:<span class=w> </span><span class=o>[]</span>
options<span class=w>             </span>:<span class=w> </span><span class=o>{}</span>
priority<span class=w>            </span>:<span class=w> </span><span class=m>2003</span>
severity<span class=w>            </span>:<span class=w> </span><span class=o>[]</span>
Chassis<span class=w> </span><span class=s2>&quot;e15ed4d4-1780-4d50-b09e-ea8372ed48b8&quot;</span>
<span class=w>    </span>hostname:<span class=w> </span>liumengxin-ovn1-192.168.137.176
<span class=w>    </span>Encap<span class=w> </span>stt
<span class=w>        </span>ip:<span class=w> </span><span class=s2>&quot;192.168.137.176&quot;</span>
<span class=w>        </span>options:<span class=w> </span><span class=o>{</span><span class=nv>csum</span><span class=o>=</span><span class=s2>&quot;true&quot;</span><span class=o>}</span>
<span class=w>    </span>Port_Binding<span class=w> </span>node-liumengxin-ovn1-192.168.137.176
<span class=w>    </span>Port_Binding<span class=w> </span>perf-6vxkn.default
<span class=w>    </span>Port_Binding<span class=w> </span>kube-state-metrics-5d6885d89-4nf8h.monitoring
<span class=w>    </span>Port_Binding<span class=w> </span>alertmanager-main-0.monitoring
<span class=w>    </span>Port_Binding<span class=w> </span>kube-ovn-pinger-6ftdf.kube-system
<span class=w>    </span>Port_Binding<span class=w> </span>fake-kubelet-67c55dfd89-pv86k.kube-system
<span class=w>    </span>Port_Binding<span class=w> </span>prometheus-k8s-0.monitoring
Chassis<span class=w> </span><span class=s2>&quot;eef07da1-f8ad-4775-b14d-bd6a3b4eb0d5&quot;</span>
<span class=w>    </span>hostname:<span class=w> </span>liumengxin-ovn3-192.168.137.178
<span class=w>    </span>Encap<span class=w> </span>stt
<span class=w>        </span>ip:<span class=w> </span><span class=s2>&quot;192.168.137.178&quot;</span>
<span class=w>        </span>options:<span class=w> </span><span class=o>{</span><span class=nv>csum</span><span class=o>=</span><span class=s2>&quot;true&quot;</span><span class=o>}</span>
<span class=w>    </span>Port_Binding<span class=w> </span>kube-ovn-pinger-7twb4.kube-system
<span class=w>    </span>Port_Binding<span class=w> </span>prometheus-adapter-86df476d87-rl88g.monitoring
<span class=w>    </span>Port_Binding<span class=w> </span>prometheus-k8s-1.monitoring
<span class=w>    </span>Port_Binding<span class=w> </span>node-liumengxin-ovn3-192.168.137.178
<span class=w>    </span>Port_Binding<span class=w> </span>perf-ff475.default
<span class=w>    </span>Port_Binding<span class=w> </span>alertmanager-main-1.monitoring
<span class=w>    </span>Port_Binding<span class=w> </span>blackbox-exporter-676d976865-tvsjd.monitoring
Chassis<span class=w> </span><span class=s2>&quot;efa253c9-494d-4719-83ae-b48ab0f11c03&quot;</span>
<span class=w>    </span>hostname:<span class=w> </span>liumengxin-ovn2-192.168.137.177
<span class=w>    </span>Encap<span class=w> </span>stt
<span class=w>        </span>ip:<span class=w> </span><span class=s2>&quot;192.168.137.177&quot;</span>
<span class=w>        </span>options:<span class=w> </span><span class=o>{</span><span class=nv>csum</span><span class=o>=</span><span class=s2>&quot;true&quot;</span><span class=o>}</span>
<span class=w>    </span>Port_Binding<span class=w> </span>grafana-6c4c6b8fb7-pzd2c.monitoring
<span class=w>    </span>Port_Binding<span class=w> </span>node-liumengxin-ovn2-192.168.137.177
<span class=w>    </span>Port_Binding<span class=w> </span>alertmanager-main-2.monitoring
<span class=w>    </span>Port_Binding<span class=w> </span>coredns-6789c94dd8-9jqsz.kube-system
<span class=w>    </span>Port_Binding<span class=w> </span>coredns-6789c94dd8-25d4r.kube-system
<span class=w>    </span>Port_Binding<span class=w> </span>prometheus-operator-7bbc99fc8b-wgjm4.monitoring
<span class=w>    </span>Port_Binding<span class=w> </span>prometheus-adapter-86df476d87-gdxmc.monitoring
<span class=w>    </span>Port_Binding<span class=w> </span>perf-fjnws.default
<span class=w>    </span>Port_Binding<span class=w> </span>kube-ovn-pinger-vh2xg.kube-system
ds<span class=w> </span>kube-proxy<span class=w> </span>ready
kube-proxy<span class=w> </span>ready
deployment<span class=w> </span>ovn-central<span class=w> </span>ready
deployment<span class=w> </span>kube-ovn-controller<span class=w> </span>ready
ds<span class=w> </span>kube-ovn-cni<span class=w> </span>ready
ds<span class=w> </span>ovs-ovn<span class=w> </span>ready
deployment<span class=w> </span>coredns<span class=w> </span>ready
ovn-nb<span class=w> </span>leader<span class=w> </span>check<span class=w> </span>ok
ovn-sb<span class=w> </span>leader<span class=w> </span>check<span class=w> </span>ok
ovn-northd<span class=w> </span>leader<span class=w> </span>check<span class=w> </span>ok
<span class=c1>### kube-ovn-controller recent log</span>

<span class=c1>### start to diagnose node liumengxin-ovn1-192.168.137.176</span>
<span class=c1>#### ovn-controller log:</span>
<span class=m>2022</span>-06-03T00:56:44.897Z<span class=p>|</span><span class=m>16722</span><span class=p>|</span>inc_proc_eng<span class=p>|</span>INFO<span class=p>|</span>User<span class=w> </span>triggered<span class=w> </span>force<span class=w> </span>recompute.
<span class=m>2022</span>-06-03T01:06:44.912Z<span class=p>|</span><span class=m>16723</span><span class=p>|</span>inc_proc_eng<span class=p>|</span>INFO<span class=p>|</span>User<span class=w> </span>triggered<span class=w> </span>force<span class=w> </span>recompute.
<span class=m>2022</span>-06-03T01:16:44.925Z<span class=p>|</span><span class=m>16724</span><span class=p>|</span>inc_proc_eng<span class=p>|</span>INFO<span class=p>|</span>User<span class=w> </span>triggered<span class=w> </span>force<span class=w> </span>recompute.
<span class=m>2022</span>-06-03T01:26:44.936Z<span class=p>|</span><span class=m>16725</span><span class=p>|</span>inc_proc_eng<span class=p>|</span>INFO<span class=p>|</span>User<span class=w> </span>triggered<span class=w> </span>force<span class=w> </span>recompute.
<span class=m>2022</span>-06-03T01:36:44.959Z<span class=p>|</span><span class=m>16726</span><span class=p>|</span>inc_proc_eng<span class=p>|</span>INFO<span class=p>|</span>User<span class=w> </span>triggered<span class=w> </span>force<span class=w> </span>recompute.
<span class=m>2022</span>-06-03T01:46:44.974Z<span class=p>|</span><span class=m>16727</span><span class=p>|</span>inc_proc_eng<span class=p>|</span>INFO<span class=p>|</span>User<span class=w> </span>triggered<span class=w> </span>force<span class=w> </span>recompute.
<span class=m>2022</span>-06-03T01:56:44.988Z<span class=p>|</span><span class=m>16728</span><span class=p>|</span>inc_proc_eng<span class=p>|</span>INFO<span class=p>|</span>User<span class=w> </span>triggered<span class=w> </span>force<span class=w> </span>recompute.
<span class=m>2022</span>-06-03T02:06:45.001Z<span class=p>|</span><span class=m>16729</span><span class=p>|</span>inc_proc_eng<span class=p>|</span>INFO<span class=p>|</span>User<span class=w> </span>triggered<span class=w> </span>force<span class=w> </span>recompute.
<span class=m>2022</span>-06-03T02:16:45.025Z<span class=p>|</span><span class=m>16730</span><span class=p>|</span>inc_proc_eng<span class=p>|</span>INFO<span class=p>|</span>User<span class=w> </span>triggered<span class=w> </span>force<span class=w> </span>recompute.
<span class=m>2022</span>-06-03T02:26:45.040Z<span class=p>|</span><span class=m>16731</span><span class=p>|</span>inc_proc_eng<span class=p>|</span>INFO<span class=p>|</span>User<span class=w> </span>triggered<span class=w> </span>force<span class=w> </span>recompute.

<span class=c1>#### ovs-vswitchd log:</span>
<span class=m>2022</span>-06-02T23:03:00.137Z<span class=p>|</span><span class=m>00079</span><span class=p>|</span>dpif<span class=o>(</span>handler1<span class=o>)</span><span class=p>|</span>WARN<span class=p>|</span>system@ovs-system:<span class=w> </span>execute<span class=w> </span>ct<span class=o>(</span>commit,zone<span class=o>=</span><span class=m>14</span>,label<span class=o>=</span><span class=m>0</span>/0x1,nat<span class=o>(</span>src<span class=o>))</span>,8<span class=w> </span>failed<span class=w> </span><span class=o>(</span>Invalid<span class=w> </span>argument<span class=o>)</span><span class=w> </span>on<span class=w> </span>packet<span class=w> </span>icmp,vlan_tci<span class=o>=</span>0x0000,dl_src<span class=o>=</span><span class=m>00</span>:00:00:f8:07:c8,dl_dst<span class=o>=</span><span class=m>00</span>:00:00:fa:1e:50,nw_src<span class=o>=</span><span class=m>10</span>.16.0.5,nw_dst<span class=o>=</span><span class=m>10</span>.16.0.10,nw_tos<span class=o>=</span><span class=m>0</span>,nw_ecn<span class=o>=</span><span class=m>0</span>,nw_ttl<span class=o>=</span><span class=m>64</span>,icmp_type<span class=o>=</span><span class=m>8</span>,icmp_code<span class=o>=</span><span class=m>0</span><span class=w> </span>icmp_csum:f9d1
<span class=w> </span>with<span class=w> </span>metadata<span class=w> </span>skb_priority<span class=o>(</span><span class=m>0</span><span class=o>)</span>,tunnel<span class=o>(</span><span class=nv>tun_id</span><span class=o>=</span>0x160017000004,src<span class=o>=</span><span class=m>192</span>.168.137.177,dst<span class=o>=</span><span class=m>192</span>.168.137.176,ttl<span class=o>=</span><span class=m>64</span>,tp_src<span class=o>=</span><span class=m>38881</span>,tp_dst<span class=o>=</span><span class=m>7471</span>,flags<span class=o>(</span>csum<span class=p>|</span>key<span class=o>))</span>,skb_mark<span class=o>(</span><span class=m>0</span><span class=o>)</span>,ct_state<span class=o>(</span>0x21<span class=o>)</span>,ct_zone<span class=o>(</span>0xe<span class=o>)</span>,ct_tuple4<span class=o>(</span><span class=nv>src</span><span class=o>=</span><span class=m>10</span>.16.0.5,dst<span class=o>=</span><span class=m>10</span>.16.0.10,proto<span class=o>=</span><span class=m>1</span>,tp_src<span class=o>=</span><span class=m>8</span>,tp_dst<span class=o>=</span><span class=m>0</span><span class=o>)</span>,in_port<span class=o>(</span><span class=m>4</span><span class=o>)</span><span class=w> </span>mtu<span class=w> </span><span class=m>0</span>
<span class=m>2022</span>-06-02T23:23:31.840Z<span class=p>|</span><span class=m>00080</span><span class=p>|</span>dpif<span class=o>(</span>handler1<span class=o>)</span><span class=p>|</span>WARN<span class=p>|</span>system@ovs-system:<span class=w> </span>execute<span class=w> </span>ct<span class=o>(</span>commit,zone<span class=o>=</span><span class=m>14</span>,label<span class=o>=</span><span class=m>0</span>/0x1,nat<span class=o>(</span>src<span class=o>))</span>,8<span class=w> </span>failed<span class=w> </span><span class=o>(</span>Invalid<span class=w> </span>argument<span class=o>)</span><span class=w> </span>on<span class=w> </span>packet<span class=w> </span>icmp,vlan_tci<span class=o>=</span>0x0000,dl_src<span class=o>=</span><span class=m>00</span>:00:00:f8:07:c8,dl_dst<span class=o>=</span><span class=m>00</span>:00:00:fa:1e:50,nw_src<span class=o>=</span><span class=m>10</span>.16.0.5,nw_dst<span class=o>=</span><span class=m>10</span>.16.0.10,nw_tos<span class=o>=</span><span class=m>0</span>,nw_ecn<span class=o>=</span><span class=m>0</span>,nw_ttl<span class=o>=</span><span class=m>64</span>,icmp_type<span class=o>=</span><span class=m>8</span>,icmp_code<span class=o>=</span><span class=m>0</span><span class=w> </span>icmp_csum:15b2
<span class=w> </span>with<span class=w> </span>metadata<span class=w> </span>skb_priority<span class=o>(</span><span class=m>0</span><span class=o>)</span>,tunnel<span class=o>(</span><span class=nv>tun_id</span><span class=o>=</span>0x160017000004,src<span class=o>=</span><span class=m>192</span>.168.137.177,dst<span class=o>=</span><span class=m>192</span>.168.137.176,ttl<span class=o>=</span><span class=m>64</span>,tp_src<span class=o>=</span><span class=m>38881</span>,tp_dst<span class=o>=</span><span class=m>7471</span>,flags<span class=o>(</span>csum<span class=p>|</span>key<span class=o>))</span>,skb_mark<span class=o>(</span><span class=m>0</span><span class=o>)</span>,ct_state<span class=o>(</span>0x21<span class=o>)</span>,ct_zone<span class=o>(</span>0xe<span class=o>)</span>,ct_tuple4<span class=o>(</span><span class=nv>src</span><span class=o>=</span><span class=m>10</span>.16.0.5,dst<span class=o>=</span><span class=m>10</span>.16.0.10,proto<span class=o>=</span><span class=m>1</span>,tp_src<span class=o>=</span><span class=m>8</span>,tp_dst<span class=o>=</span><span class=m>0</span><span class=o>)</span>,in_port<span class=o>(</span><span class=m>4</span><span class=o>)</span><span class=w> </span>mtu<span class=w> </span><span class=m>0</span>
<span class=m>2022</span>-06-03T00:09:15.659Z<span class=p>|</span><span class=m>00081</span><span class=p>|</span>dpif<span class=o>(</span>handler1<span class=o>)</span><span class=p>|</span>WARN<span class=p>|</span>system@ovs-system:<span class=w> </span>execute<span class=w> </span>ct<span class=o>(</span>commit,zone<span class=o>=</span><span class=m>14</span>,label<span class=o>=</span><span class=m>0</span>/0x1,nat<span class=o>(</span>src<span class=o>))</span>,8<span class=w> </span>failed<span class=w> </span><span class=o>(</span>Invalid<span class=w> </span>argument<span class=o>)</span><span class=w> </span>on<span class=w> </span>packet<span class=w> </span>icmp,vlan_tci<span class=o>=</span>0x0000,dl_src<span class=o>=</span><span class=m>00</span>:00:00:dc:e3:63,dl_dst<span class=o>=</span><span class=m>00</span>:00:00:fa:1e:50,nw_src<span class=o>=</span><span class=m>10</span>.16.63.30,nw_dst<span class=o>=</span><span class=m>10</span>.16.0.10,nw_tos<span class=o>=</span><span class=m>0</span>,nw_ecn<span class=o>=</span><span class=m>0</span>,nw_ttl<span class=o>=</span><span class=m>64</span>,icmp_type<span class=o>=</span><span class=m>8</span>,icmp_code<span class=o>=</span><span class=m>0</span><span class=w> </span>icmp_csum:e5a5
<span class=w> </span>with<span class=w> </span>metadata<span class=w> </span>skb_priority<span class=o>(</span><span class=m>0</span><span class=o>)</span>,tunnel<span class=o>(</span><span class=nv>tun_id</span><span class=o>=</span>0x150017000004,src<span class=o>=</span><span class=m>192</span>.168.137.178,dst<span class=o>=</span><span class=m>192</span>.168.137.176,ttl<span class=o>=</span><span class=m>64</span>,tp_src<span class=o>=</span><span class=m>9239</span>,tp_dst<span class=o>=</span><span class=m>7471</span>,flags<span class=o>(</span>csum<span class=p>|</span>key<span class=o>))</span>,skb_mark<span class=o>(</span><span class=m>0</span><span class=o>)</span>,ct_state<span class=o>(</span>0x21<span class=o>)</span>,ct_zone<span class=o>(</span>0xe<span class=o>)</span>,ct_tuple4<span class=o>(</span><span class=nv>src</span><span class=o>=</span><span class=m>10</span>.16.63.30,dst<span class=o>=</span><span class=m>10</span>.16.0.10,proto<span class=o>=</span><span class=m>1</span>,tp_src<span class=o>=</span><span class=m>8</span>,tp_dst<span class=o>=</span><span class=m>0</span><span class=o>)</span>,in_port<span class=o>(</span><span class=m>4</span><span class=o>)</span><span class=w> </span>mtu<span class=w> </span><span class=m>0</span>
<span class=m>2022</span>-06-03T00:30:13.409Z<span class=p>|</span><span class=m>00064</span><span class=p>|</span>dpif<span class=o>(</span>handler2<span class=o>)</span><span class=p>|</span>WARN<span class=p>|</span>system@ovs-system:<span class=w> </span>execute<span class=w> </span>ct<span class=o>(</span>commit,zone<span class=o>=</span><span class=m>14</span>,label<span class=o>=</span><span class=m>0</span>/0x1,nat<span class=o>(</span>src<span class=o>))</span>,8<span class=w> </span>failed<span class=w> </span><span class=o>(</span>Invalid<span class=w> </span>argument<span class=o>)</span><span class=w> </span>on<span class=w> </span>packet<span class=w> </span>icmp,vlan_tci<span class=o>=</span>0x0000,dl_src<span class=o>=</span><span class=m>00</span>:00:00:f8:07:c8,dl_dst<span class=o>=</span><span class=m>00</span>:00:00:fa:1e:50,nw_src<span class=o>=</span><span class=m>10</span>.16.0.5,nw_dst<span class=o>=</span><span class=m>10</span>.16.0.10,nw_tos<span class=o>=</span><span class=m>0</span>,nw_ecn<span class=o>=</span><span class=m>0</span>,nw_ttl<span class=o>=</span><span class=m>64</span>,icmp_type<span class=o>=</span><span class=m>8</span>,icmp_code<span class=o>=</span><span class=m>0</span><span class=w> </span>icmp_csum:6b4a
<span class=w> </span>with<span class=w> </span>metadata<span class=w> </span>skb_priority<span class=o>(</span><span class=m>0</span><span class=o>)</span>,tunnel<span class=o>(</span><span class=nv>tun_id</span><span class=o>=</span>0x160017000004,src<span class=o>=</span><span class=m>192</span>.168.137.177,dst<span class=o>=</span><span class=m>192</span>.168.137.176,ttl<span class=o>=</span><span class=m>64</span>,tp_src<span class=o>=</span><span class=m>38881</span>,tp_dst<span class=o>=</span><span class=m>7471</span>,flags<span class=o>(</span>csum<span class=p>|</span>key<span class=o>))</span>,skb_mark<span class=o>(</span><span class=m>0</span><span class=o>)</span>,ct_state<span class=o>(</span>0x21<span class=o>)</span>,ct_zone<span class=o>(</span>0xe<span class=o>)</span>,ct_tuple4<span class=o>(</span><span class=nv>src</span><span class=o>=</span><span class=m>10</span>.16.0.5,dst<span class=o>=</span><span class=m>10</span>.16.0.10,proto<span class=o>=</span><span class=m>1</span>,tp_src<span class=o>=</span><span class=m>8</span>,tp_dst<span class=o>=</span><span class=m>0</span><span class=o>)</span>,in_port<span class=o>(</span><span class=m>4</span><span class=o>)</span><span class=w> </span>mtu<span class=w> </span><span class=m>0</span>
<span class=m>2022</span>-06-03T02:02:33.832Z<span class=p>|</span><span class=m>00082</span><span class=p>|</span>dpif<span class=o>(</span>handler1<span class=o>)</span><span class=p>|</span>WARN<span class=p>|</span>system@ovs-system:<span class=w> </span>execute<span class=w> </span>ct<span class=o>(</span>commit,zone<span class=o>=</span><span class=m>14</span>,label<span class=o>=</span><span class=m>0</span>/0x1,nat<span class=o>(</span>src<span class=o>))</span>,8<span class=w> </span>failed<span class=w> </span><span class=o>(</span>Invalid<span class=w> </span>argument<span class=o>)</span><span class=w> </span>on<span class=w> </span>packet<span class=w> </span>icmp,vlan_tci<span class=o>=</span>0x0000,dl_src<span class=o>=</span><span class=m>00</span>:00:00:f8:07:c8,dl_dst<span class=o>=</span><span class=m>00</span>:00:00:fa:1e:50,nw_src<span class=o>=</span><span class=m>10</span>.16.0.5,nw_dst<span class=o>=</span><span class=m>10</span>.16.0.10,nw_tos<span class=o>=</span><span class=m>0</span>,nw_ecn<span class=o>=</span><span class=m>0</span>,nw_ttl<span class=o>=</span><span class=m>64</span>,icmp_type<span class=o>=</span><span class=m>8</span>,icmp_code<span class=o>=</span><span class=m>0</span><span class=w> </span>icmp_csum:a819
<span class=w> </span>with<span class=w> </span>metadata<span class=w> </span>skb_priority<span class=o>(</span><span class=m>0</span><span class=o>)</span>,tunnel<span class=o>(</span><span class=nv>tun_id</span><span class=o>=</span>0x160017000004,src<span class=o>=</span><span class=m>192</span>.168.137.177,dst<span class=o>=</span><span class=m>192</span>.168.137.176,ttl<span class=o>=</span><span class=m>64</span>,tp_src<span class=o>=</span><span class=m>38881</span>,tp_dst<span class=o>=</span><span class=m>7471</span>,flags<span class=o>(</span>csum<span class=p>|</span>key<span class=o>))</span>,skb_mark<span class=o>(</span><span class=m>0</span><span class=o>)</span>,ct_state<span class=o>(</span>0x21<span class=o>)</span>,ct_zone<span class=o>(</span>0xe<span class=o>)</span>,ct_tuple4<span class=o>(</span><span class=nv>src</span><span class=o>=</span><span class=m>10</span>.16.0.5,dst<span class=o>=</span><span class=m>10</span>.16.0.10,proto<span class=o>=</span><span class=m>1</span>,tp_src<span class=o>=</span><span class=m>8</span>,tp_dst<span class=o>=</span><span class=m>0</span><span class=o>)</span>,in_port<span class=o>(</span><span class=m>4</span><span class=o>)</span><span class=w> </span>mtu<span class=w> </span><span class=m>0</span>

<span class=c1>#### ovs-vsctl show results:</span>
0d4c4675-c9cc-440a-8c1a-878e17f81b88
<span class=w>    </span>Bridge<span class=w> </span>br-int
<span class=w>        </span>fail_mode:<span class=w> </span>secure
<span class=w>        </span>datapath_type:<span class=w> </span>system
<span class=w>        </span>Port<span class=w> </span>a2c1a8a8b83a_h
<span class=w>            </span>Interface<span class=w> </span>a2c1a8a8b83a_h
<span class=w>        </span>Port<span class=w> </span><span class=s2>&quot;4fa5c4cbb1a5_h&quot;</span>
<span class=w>            </span>Interface<span class=w> </span><span class=s2>&quot;4fa5c4cbb1a5_h&quot;</span>
<span class=w>        </span>Port<span class=w> </span>ovn-eef07d-0
<span class=w>            </span>Interface<span class=w> </span>ovn-eef07d-0
<span class=w>                </span>type:<span class=w> </span>stt
<span class=w>                </span>options:<span class=w> </span><span class=o>{</span><span class=nv>csum</span><span class=o>=</span><span class=s2>&quot;true&quot;</span>,<span class=w> </span><span class=nv>key</span><span class=o>=</span>flow,<span class=w> </span><span class=nv>remote_ip</span><span class=o>=</span><span class=s2>&quot;192.168.137.178&quot;</span><span class=o>}</span>
<span class=w>        </span>Port<span class=w> </span>ovn0
<span class=w>            </span>Interface<span class=w> </span>ovn0
<span class=w>                </span>type:<span class=w> </span>internal
<span class=w>        </span>Port<span class=w> </span><span class=s2>&quot;04d03360e9a0_h&quot;</span>
<span class=w>            </span>Interface<span class=w> </span><span class=s2>&quot;04d03360e9a0_h&quot;</span>
<span class=w>        </span>Port<span class=w> </span>eeb4d9e51b5d_h
<span class=w>            </span>Interface<span class=w> </span>eeb4d9e51b5d_h
<span class=w>        </span>Port<span class=w> </span>mirror0
<span class=w>            </span>Interface<span class=w> </span>mirror0
<span class=w>                </span>type:<span class=w> </span>internal
<span class=w>        </span>Port<span class=w> </span><span class=s2>&quot;8e5d887ccd80_h&quot;</span>
<span class=w>            </span>Interface<span class=w> </span><span class=s2>&quot;8e5d887ccd80_h&quot;</span>
<span class=w>        </span>Port<span class=w> </span>ovn-efa253-0
<span class=w>            </span>Interface<span class=w> </span>ovn-efa253-0
<span class=w>                </span>type:<span class=w> </span>stt
<span class=w>                </span>options:<span class=w> </span><span class=o>{</span><span class=nv>csum</span><span class=o>=</span><span class=s2>&quot;true&quot;</span>,<span class=w> </span><span class=nv>key</span><span class=o>=</span>flow,<span class=w> </span><span class=nv>remote_ip</span><span class=o>=</span><span class=s2>&quot;192.168.137.177&quot;</span><span class=o>}</span>
<span class=w>        </span>Port<span class=w> </span><span class=s2>&quot;17512d5be1f1_h&quot;</span>
<span class=w>            </span>Interface<span class=w> </span><span class=s2>&quot;17512d5be1f1_h&quot;</span>
<span class=w>        </span>Port<span class=w> </span>br-int
<span class=w>            </span>Interface<span class=w> </span>br-int
<span class=w>                </span>type:<span class=w> </span>internal
<span class=w>    </span>ovs_version:<span class=w> </span><span class=s2>&quot;2.17.2&quot;</span>

<span class=c1>#### pinger diagnose results:</span>
I0603<span class=w> </span><span class=m>10</span>:35:04.349404<span class=w>   </span><span class=m>17619</span><span class=w> </span>pinger.go:19<span class=o>]</span>
-------------------------------------------------------------------------------
Kube-OVN:
<span class=w>  </span>Version:<span class=w>       </span>v1.10.7
<span class=w>  </span>Build:<span class=w>         </span><span class=m>2022</span>-04-24_08:02:50
<span class=w>  </span>Commit:<span class=w>        </span>git-73f9d15
<span class=w>  </span>Go<span class=w> </span>Version:<span class=w>    </span>go1.17.8
<span class=w>  </span>Arch:<span class=w>          </span>amd64
-------------------------------------------------------------------------------
I0603<span class=w> </span><span class=m>10</span>:35:04.376797<span class=w>   </span><span class=m>17619</span><span class=w> </span>config.go:166<span class=o>]</span><span class=w> </span>pinger<span class=w> </span>config<span class=w> </span>is<span class=w> </span><span class=p>&amp;</span><span class=o>{</span>KubeConfigFile:<span class=w> </span>KubeClient:0xc000493380<span class=w> </span>Port:8080<span class=w> </span>DaemonSetNamespace:kube-system<span class=w> </span>DaemonSetName:kube-ovn-pinger<span class=w> </span>Interval:5<span class=w> </span>Mode:job<span class=w> </span>ExitCode:0<span class=w> </span>InternalDNS:kubernetes.default<span class=w> </span>ExternalDNS:<span class=w> </span>NodeName:liumengxin-ovn1-192.168.137.176<span class=w> </span>HostIP:192.168.137.176<span class=w> </span>PodName:kube-ovn-pinger-6ftdf<span class=w> </span>PodIP:10.16.0.10<span class=w> </span>PodProtocols:<span class=o>[</span>IPv4<span class=o>]</span><span class=w> </span>ExternalAddress:<span class=w> </span>NetworkMode:kube-ovn<span class=w> </span>PollTimeout:2<span class=w> </span>PollInterval:15<span class=w> </span>SystemRunDir:/var/run/openvswitch<span class=w> </span>DatabaseVswitchName:Open_vSwitch<span class=w> </span>DatabaseVswitchSocketRemote:unix:/var/run/openvswitch/db.sock<span class=w> </span>DatabaseVswitchFileDataPath:/etc/openvswitch/conf.db<span class=w> </span>DatabaseVswitchFileLogPath:/var/log/openvswitch/ovsdb-server.log<span class=w> </span>DatabaseVswitchFilePidPath:/var/run/openvswitch/ovsdb-server.pid<span class=w> </span>DatabaseVswitchFileSystemIDPath:/etc/openvswitch/system-id.conf<span class=w> </span>ServiceVswitchdFileLogPath:/var/log/openvswitch/ovs-vswitchd.log<span class=w> </span>ServiceVswitchdFilePidPath:/var/run/openvswitch/ovs-vswitchd.pid<span class=w> </span>ServiceOvnControllerFileLogPath:/var/log/ovn/ovn-controller.log<span class=w> </span>ServiceOvnControllerFilePidPath:/var/run/ovn/ovn-controller.pid<span class=o>}</span>
I0603<span class=w> </span><span class=m>10</span>:35:04.449166<span class=w>   </span><span class=m>17619</span><span class=w> </span>exporter.go:75<span class=o>]</span><span class=w> </span>liumengxin-ovn1-192.168.137.176:<span class=w> </span>exporter<span class=w> </span>connect<span class=w> </span>successfully
I0603<span class=w> </span><span class=m>10</span>:35:04.554011<span class=w>   </span><span class=m>17619</span><span class=w> </span>ovn.go:21<span class=o>]</span><span class=w> </span>ovs-vswitchd<span class=w> </span>and<span class=w> </span>ovsdb<span class=w> </span>are<span class=w> </span>up
I0603<span class=w> </span><span class=m>10</span>:35:04.651293<span class=w>   </span><span class=m>17619</span><span class=w> </span>ovn.go:33<span class=o>]</span><span class=w> </span>ovn_controller<span class=w> </span>is<span class=w> </span>up
I0603<span class=w> </span><span class=m>10</span>:35:04.651342<span class=w>   </span><span class=m>17619</span><span class=w> </span>ovn.go:39<span class=o>]</span><span class=w> </span>start<span class=w> </span>to<span class=w> </span>check<span class=w> </span>port<span class=w> </span>binding
I0603<span class=w> </span><span class=m>10</span>:35:04.749613<span class=w>   </span><span class=m>17619</span><span class=w> </span>ovn.go:135<span class=o>]</span><span class=w> </span>chassis<span class=w> </span>id<span class=w> </span>is<span class=w> </span>1d7f3d6c-eec5-4b3c-adca-2969d9cdfd80
I0603<span class=w> </span><span class=m>10</span>:35:04.763487<span class=w>   </span><span class=m>17619</span><span class=w> </span>ovn.go:49<span class=o>]</span><span class=w> </span>port<span class=w> </span><span class=k>in</span><span class=w> </span>sb<span class=w> </span>is<span class=w> </span><span class=o>[</span>node-liumengxin-ovn1-192.168.137.176<span class=w> </span>perf-6vxkn.default<span class=w> </span>kube-state-metrics-5d6885d89-4nf8h.monitoring<span class=w> </span>alertmanager-main-0.monitoring<span class=w> </span>kube-ovn-pinger-6ftdf.kube-system<span class=w> </span>fake-kubelet-67c55dfd89-pv86k.kube-system<span class=w> </span>prometheus-k8s-0.monitoring<span class=o>]</span>
I0603<span class=w> </span><span class=m>10</span>:35:04.763583<span class=w>   </span><span class=m>17619</span><span class=w> </span>ovn.go:61<span class=o>]</span><span class=w> </span>ovs<span class=w> </span>and<span class=w> </span>ovn-sb<span class=w> </span>binding<span class=w> </span>check<span class=w> </span>passed
I0603<span class=w> </span><span class=m>10</span>:35:05.049309<span class=w>   </span><span class=m>17619</span><span class=w> </span>ping.go:259<span class=o>]</span><span class=w> </span>start<span class=w> </span>to<span class=w> </span>check<span class=w> </span>apiserver<span class=w> </span>connectivity
I0603<span class=w> </span><span class=m>10</span>:35:05.053666<span class=w>   </span><span class=m>17619</span><span class=w> </span>ping.go:268<span class=o>]</span><span class=w> </span>connect<span class=w> </span>to<span class=w> </span>apiserver<span class=w> </span>success<span class=w> </span><span class=k>in</span><span class=w> </span><span class=m>4</span>.27ms
I0603<span class=w> </span><span class=m>10</span>:35:05.053786<span class=w>   </span><span class=m>17619</span><span class=w> </span>ping.go:129<span class=o>]</span><span class=w> </span>start<span class=w> </span>to<span class=w> </span>check<span class=w> </span>pod<span class=w> </span>connectivity
I0603<span class=w> </span><span class=m>10</span>:35:05.249590<span class=w>   </span><span class=m>17619</span><span class=w> </span>ping.go:159<span class=o>]</span><span class=w> </span>ping<span class=w> </span>pod:<span class=w> </span>kube-ovn-pinger-6ftdf<span class=w> </span><span class=m>10</span>.16.0.10,<span class=w> </span>count:<span class=w> </span><span class=m>3</span>,<span class=w> </span>loss<span class=w> </span>count<span class=w> </span><span class=m>0</span>,<span class=w> </span>average<span class=w> </span>rtt<span class=w> </span><span class=m>16</span>.30ms
I0603<span class=w> </span><span class=m>10</span>:35:05.354135<span class=w>   </span><span class=m>17619</span><span class=w> </span>ping.go:159<span class=o>]</span><span class=w> </span>ping<span class=w> </span>pod:<span class=w> </span>kube-ovn-pinger-7twb4<span class=w> </span><span class=m>10</span>.16.63.30,<span class=w> </span>count:<span class=w> </span><span class=m>3</span>,<span class=w> </span>loss<span class=w> </span>count<span class=w> </span><span class=m>0</span>,<span class=w> </span>average<span class=w> </span>rtt<span class=w> </span><span class=m>1</span>.81ms
I0603<span class=w> </span><span class=m>10</span>:35:05.458460<span class=w>   </span><span class=m>17619</span><span class=w> </span>ping.go:159<span class=o>]</span><span class=w> </span>ping<span class=w> </span>pod:<span class=w> </span>kube-ovn-pinger-vh2xg<span class=w> </span><span class=m>10</span>.16.0.5,<span class=w> </span>count:<span class=w> </span><span class=m>3</span>,<span class=w> </span>loss<span class=w> </span>count<span class=w> </span><span class=m>0</span>,<span class=w> </span>average<span class=w> </span>rtt<span class=w> </span><span class=m>1</span>.92ms
I0603<span class=w> </span><span class=m>10</span>:35:05.458523<span class=w>   </span><span class=m>17619</span><span class=w> </span>ping.go:83<span class=o>]</span><span class=w> </span>start<span class=w> </span>to<span class=w> </span>check<span class=w> </span>node<span class=w> </span>connectivity
</code></pre></div> <h3 id=tuning-install-fastpathlocal-install-fastpathremove-fastpathinstall-sttlocal-install-sttremove-stt-centos7centos8-kernel-devel-version>tuning {install-fastpath|local-install-fastpath|remove-fastpath|install-stt|local-install-stt|remove-stt} {centos7|centos8}} [kernel-devel-version]<a class=headerlink href=#tuning-install-fastpathlocal-install-fastpathremove-fastpathinstall-sttlocal-install-sttremove-stt-centos7centos8-kernel-devel-version title="Permanent link">&para;</a></h3> <p>This command performs performance tuning related operations, please refer to <a href=../../advance/performance-tuning/ >Performance Tunning</a>.</p> <h3 id=reload>reload<a class=headerlink href=#reload title="Permanent link">&para;</a></h3> <p>This command restarts all Kube-OVN related components:</p> <div class=highlight><pre><span></span><code><span class=c1># kubectl ko reload</span>
pod<span class=w> </span><span class=s2>&quot;ovn-central-8684dd94bd-vzgcr&quot;</span><span class=w> </span>deleted
Waiting<span class=w> </span><span class=k>for</span><span class=w> </span>deployment<span class=w> </span><span class=s2>&quot;ovn-central&quot;</span><span class=w> </span>rollout<span class=w> </span>to<span class=w> </span>finish:<span class=w> </span><span class=m>0</span><span class=w> </span>of<span class=w> </span><span class=m>1</span><span class=w> </span>updated<span class=w> </span>replicas<span class=w> </span>are<span class=w> </span>available...
deployment<span class=w> </span><span class=s2>&quot;ovn-central&quot;</span><span class=w> </span>successfully<span class=w> </span>rolled<span class=w> </span>out
pod<span class=w> </span><span class=s2>&quot;ovs-ovn-bsnvz&quot;</span><span class=w> </span>deleted
pod<span class=w> </span><span class=s2>&quot;ovs-ovn-m9b98&quot;</span><span class=w> </span>deleted
pod<span class=w> </span><span class=s2>&quot;kube-ovn-controller-8459db5ff4-64c62&quot;</span><span class=w> </span>deleted
Waiting<span class=w> </span><span class=k>for</span><span class=w> </span>deployment<span class=w> </span><span class=s2>&quot;kube-ovn-controller&quot;</span><span class=w> </span>rollout<span class=w> </span>to<span class=w> </span>finish:<span class=w> </span><span class=m>0</span><span class=w> </span>of<span class=w> </span><span class=m>1</span><span class=w> </span>updated<span class=w> </span>replicas<span class=w> </span>are<span class=w> </span>available...
deployment<span class=w> </span><span class=s2>&quot;kube-ovn-controller&quot;</span><span class=w> </span>successfully<span class=w> </span>rolled<span class=w> </span>out
pod<span class=w> </span><span class=s2>&quot;kube-ovn-cni-2klnh&quot;</span><span class=w> </span>deleted
pod<span class=w> </span><span class=s2>&quot;kube-ovn-cni-t2jz4&quot;</span><span class=w> </span>deleted
Waiting<span class=w> </span><span class=k>for</span><span class=w> </span>daemon<span class=w> </span><span class=nb>set</span><span class=w> </span><span class=s2>&quot;kube-ovn-cni&quot;</span><span class=w> </span>rollout<span class=w> </span>to<span class=w> </span>finish:<span class=w> </span><span class=m>0</span><span class=w> </span>of<span class=w> </span><span class=m>2</span><span class=w> </span>updated<span class=w> </span>pods<span class=w> </span>are<span class=w> </span>available...
Waiting<span class=w> </span><span class=k>for</span><span class=w> </span>daemon<span class=w> </span><span class=nb>set</span><span class=w> </span><span class=s2>&quot;kube-ovn-cni&quot;</span><span class=w> </span>rollout<span class=w> </span>to<span class=w> </span>finish:<span class=w> </span><span class=m>1</span><span class=w> </span>of<span class=w> </span><span class=m>2</span><span class=w> </span>updated<span class=w> </span>pods<span class=w> </span>are<span class=w> </span>available...
daemon<span class=w> </span><span class=nb>set</span><span class=w> </span><span class=s2>&quot;kube-ovn-cni&quot;</span><span class=w> </span>successfully<span class=w> </span>rolled<span class=w> </span>out
pod<span class=w> </span><span class=s2>&quot;kube-ovn-pinger-ln72z&quot;</span><span class=w> </span>deleted
pod<span class=w> </span><span class=s2>&quot;kube-ovn-pinger-w8lrk&quot;</span><span class=w> </span>deleted
Waiting<span class=w> </span><span class=k>for</span><span class=w> </span>daemon<span class=w> </span><span class=nb>set</span><span class=w> </span><span class=s2>&quot;kube-ovn-pinger&quot;</span><span class=w> </span>rollout<span class=w> </span>to<span class=w> </span>finish:<span class=w> </span><span class=m>0</span><span class=w> </span>of<span class=w> </span><span class=m>2</span><span class=w> </span>updated<span class=w> </span>pods<span class=w> </span>are<span class=w> </span>available...
Waiting<span class=w> </span><span class=k>for</span><span class=w> </span>daemon<span class=w> </span><span class=nb>set</span><span class=w> </span><span class=s2>&quot;kube-ovn-pinger&quot;</span><span class=w> </span>rollout<span class=w> </span>to<span class=w> </span>finish:<span class=w> </span><span class=m>1</span><span class=w> </span>of<span class=w> </span><span class=m>2</span><span class=w> </span>updated<span class=w> </span>pods<span class=w> </span>are<span class=w> </span>available...
daemon<span class=w> </span><span class=nb>set</span><span class=w> </span><span class=s2>&quot;kube-ovn-pinger&quot;</span><span class=w> </span>successfully<span class=w> </span>rolled<span class=w> </span>out
pod<span class=w> </span><span class=s2>&quot;kube-ovn-monitor-7fb67d5488-7q6zb&quot;</span><span class=w> </span>deleted
Waiting<span class=w> </span><span class=k>for</span><span class=w> </span>deployment<span class=w> </span><span class=s2>&quot;kube-ovn-monitor&quot;</span><span class=w> </span>rollout<span class=w> </span>to<span class=w> </span>finish:<span class=w> </span><span class=m>0</span><span class=w> </span>of<span class=w> </span><span class=m>1</span><span class=w> </span>updated<span class=w> </span>replicas<span class=w> </span>are<span class=w> </span>available...
deployment<span class=w> </span><span class=s2>&quot;kube-ovn-monitor&quot;</span><span class=w> </span>successfully<span class=w> </span>rolled<span class=w> </span>out
</code></pre></div> <p><a class=md-button href=https://ma.alauda.cn/p/0f39a target=_blank><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 4C5.36 4 2 6.69 2 10c0 1.89 1.08 3.56 2.78 4.66L4 17l2.5-1.5c.89.31 1.87.5 2.91.5A5.22 5.22 0 0 1 9 14c0-3.31 3.13-6 7-6 .19 0 .38 0 .56.03C15.54 5.69 12.78 4 9.5 4m-3 2.5a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m5 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1M16 9c-3.31 0-6 2.24-6 5s2.69 5 6 5c.67 0 1.31-.08 1.91-.25L20 20l-.62-1.87C20.95 17.22 22 15.71 22 14c0-2.76-2.69-5-6-5m-2 2.5a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m4 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1Z"/></svg></span> 微信群</a> <a class=md-button href=https://communityinviter.com/apps/kube-ovn/kube-ovn/ target=_blank><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6 15a2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2h2v2m1 0a2 2 0 0 1 2-2 2 2 0 0 1 2 2v5a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-5m2-8a2 2 0 0 1-2-2 2 2 0 0 1 2-2 2 2 0 0 1 2 2v2H9m0 1a2 2 0 0 1 2 2 2 2 0 0 1-2 2H4a2 2 0 0 1-2-2 2 2 0 0 1 2-2h5m8 2a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2h-2v-2m-1 0a2 2 0 0 1-2 2 2 2 0 0 1-2-2V5a2 2 0 0 1 2-2 2 2 0 0 1 2 2v5m-2 8a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2v-2h2m0-1a2 2 0 0 1-2-2 2 2 0 0 1 2-2h5a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-5Z"/></svg></span> Slack</a> <a class=md-button href=https://twitter.com/KubeOvn target=_blank><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23Z"/></svg></span> Twitter</a> <a class=md-button href=https://ma.alauda.cn/p/2f53a target=_blank><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Z"/></svg></span> Support</a></p> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">September 6, 2022</span> <br> Created: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">June 30, 2022</span> </small> </div> <h2 id=__comments>Comments</h2> <script src=https://giscus.app/client.js data-repo=kubeovn/kube-ovn data-repo-id="MDEwOlJlcG9zaXRvcnkxNzcwNjg5NjE=" data-category=Announcements data-category-id=DIC_kwDOCo3boc4CAj60 data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=light data-lang=en crossorigin=anonymous async>
</script> <script>
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object")
      if (palette.color.scheme === "slate") {
        var giscus = document.querySelector("script[src*=giscus]")
        giscus.setAttribute("data-theme", "dark")
      }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../guide/webhook/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Webhook" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Webhook </div> </div> </a> <a href=../delete-worker-node/ class="md-footer__link md-footer__link--next" aria-label="Next: Deleting Work Node" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Deleting Work Node </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2022 The Linux Foundation </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=http://page.alauda.cn/kubeovn target=_blank rel=noopener title=page.alauda.cn class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154zm-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4zm-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2zM563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4zm-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6zm107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6z"/></svg> </a> <a href=https://communityinviter.com/apps/kube-ovn/kube-ovn/ target=_blank rel=noopener title=communityinviter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg> </a> <a href=https://twitter.com/kubeovn target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://github.com/kubeovn target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://hub.docker.com/r/kubeovn/kube-ovn target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.top"], "search": "../../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"default": "stable", "provider": "mike"}}</script> <script src=../../../assets/javascripts/bundle.a6c66575.min.js></script> </body> </html>